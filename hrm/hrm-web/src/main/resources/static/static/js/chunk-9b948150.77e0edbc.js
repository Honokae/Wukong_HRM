(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b948150"],{"24f4":function(e,t,i){"use strict";i("b64b"),i("d81d"),i("14d9");var a={1:"主动离职",2:"被动离职",3:"退休"},l={1:"家庭原因",2:"身体原因",3:"薪资原因",4:"交通不便",5:"工作压力",6:"管理问题",7:"无晋升机会",8:"职业规划",9:"合同到期放弃续签",10:"以其他个人原因离职",11:"试用期内辞退",12:"违反公司条例",13:"组织调整/裁员",14:"绩效不达标辞退",15:"合同到期不续签",16:"其他原因被动离职"};function n(e){var t=Object.keys(e);return t.map((function(t){return{label:e[t],value:parseInt(t)}}))}function r(){for(var e=Object.keys(l),t=[],i=0;i<e.length;i++){var a=e[i];a<=10&&t.push({label:l[a],value:parseInt(a)})}return t}function s(){for(var e=Object.keys(l),t=[],i=0;i<e.length;i++){var a=e[i];a>10&&t.push({label:l[a],value:parseInt(a)})}return t}function o(e){var t=[{name:"计划离职日期",field:"planQuitTime",formType:"date",setting:[]},{name:"离职申请日期",field:"applyQuitTime",formType:"date",setting:[]},{name:"薪资结算日期",field:"salarySettlementTime",formType:"date",setting:[]},{name:"离职类型",field:"quitType",formType:"select",setting:n(a)}];if(!e||3!=e.quitType){var i=[];1==e.quitType?i=r():2==e.quitType&&(i=s()),t.push({name:"离职原因",field:"quitReason",formType:"select",setting:i})}return t.push({name:"备注",field:"remarks",formType:"textarea",setting:[]}),t}function d(e){var t={planQuitTime:[{required:!0,message:"请选择",trigger:["blur","change"]}],applyQuitTime:[{required:!0,message:"请选择",trigger:["blur","change"]}],salarySettlementTime:[{required:!0,message:"请选择",trigger:["blur","change"]}],quitType:[{required:!0,message:"请选择",trigger:["blur","change"]}]};return e&&3==e.quitType||(t["quitReason"]=[{required:!0,message:"请选择",trigger:["blur","change"]}]),t}t["a"]={getFields:o,getRules:d,quitTypeValue:a,quitReasonValue:l}},"4cdf":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{ref:"wkDialog",attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,width:"700px"},on:{close:e.handleCancel}},[i("span",{staticClass:"el-dialog__title",attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(e.title)+"\n    "),e.helpObj?i("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":e.helpObj.dataType,"data-id":e.helpObj.dataId}}):e._e()]),e._v(" "),i("div",{staticClass:"form-add-dialog-body"},[i("el-form",{ref:"crmForm",staticClass:"wk-form",attrs:{model:e.fieldForm,rules:e.fieldRules,"validate-on-rule-change":!1,"label-position":"top"}},e._l(e.fieldList,(function(t,a){return i("wk-form-item",{key:a,attrs:{index:a,"field-from":e.fieldForm,item:t,disabled:t.disabled,"style-percent":"50%"},on:{change:e.formChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return[a&&"area"==a.formType||"city"==a.formType?i("v-distpicker",{attrs:{province:e.fieldForm[a.field].province,city:e.fieldForm[a.field].city,disabled:a.disabled,"hide-area":""},on:{province:function(t){e.selectProvince(t,a)},city:function(t){e.selectCity(t,a)}}}):e._e()]}}])})}))),e._v(" "),e._t("default")],2),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[e._v("保存")]),e._v(" "),i("el-button",{nativeOn:{click:function(t){return e.handleCancel(t)}}},[e._v("取消")])],1)])},l=[],n=(i("a9e3"),i("d3b7"),i("159b"),i("caad"),i("2532"),i("14d9"),i("b0c0"),i("99af"),i("7078")),r=i("c04c"),s=i("9dba"),o=i("2046"),d=i("5a8c"),u={name:"CustomFormAddDialog",components:{WkFormItem:r["default"],VDistpicker:d["a"]},mixins:[s["a"],o["a"]],props:{id:[String,Number],title:String,fields:Array,helpObj:Object,visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,fieldList:[],fieldForm:{},fieldRules:{}}},computed:{},watch:{visible:{handler:function(e){e&&this.getField()},immediate:!0}},mounted:function(){},methods:{getField:function(){var e=this,t=this.fields,i=this.getFormAssistIds(t),a=[],l={},n={};t.forEach((function(t){var r=e.getFormItemDefaultProperty(t,!1);r.show=!i.includes(t.formAssistId),r.show&&(l[r.field]=e.getRules(t)),r.hasOwnProperty("disabled")||(r.disabled=!1),"boolean"!==typeof r.radio&&e.getItemRadio(t,r),r.show&&(n[r.field]=e.getItemValue(t,null,e.id?"update":"save")),a.push(r)})),this.fieldList=a,this.fieldForm=n,this.fieldRules=l},UniquePromise:function(e){var t=e.field,i=e.value;return this.getUniquePromise(t,i,this.action)},getUniquePromise:function(e,t,i){var a=this;return new Promise((function(i,l){var r={};r.fieldId=e.fieldId,r.id=a.id,r.value=a.getRealParams(e,t),Object(n["v"])(r).then((function(t){var a=t.data||{};1===a.status?i():l("".concat(e.name,"已存在"))})).catch((function(){l()}))}))},handleCancel:function(){this.$emit("update:visible",!1)},handleConfirm:function(){var e=this,t=this.$refs.crmForm;t.validate((function(i){if(!i)return e.getFormErrorMessage(t),!1;var a=e.getSubmiteParams([].concat.apply([],e.fieldList),e.fieldForm,["isFixed"]);e.$emit("pass",a)}))},formChange:function(e,t,i,a){if(["select","checkbox"].includes(e.formType)&&"options_type"===e.remark&&e.optionsData){var l=this.getFormContentByOptionsChange(this.fieldList,this.fieldForm),n=l.fieldForm,r=l.fieldRules;this.fieldForm=n,this.fieldRules=r}},selectProvince:function(e,t){this.fieldForm[t.field].province=e.value},selectCity:function(e,t){this.fieldForm[t.field].city=e.value}}},f=u,m=(i("71f6"),i("2877")),c=Object(m["a"])(f,a,l,!1,null,"6ca06bd4",null);t["a"]=c.exports},"5da1":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{ref:"wkDialog",attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,width:"700px"},on:{close:e.handleCancel}},[i("span",{staticClass:"el-dialog__title",attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s(e.title)+"\n    "),e.helpObj?i("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":e.helpObj.dataType,"data-id":e.helpObj.dataId}}):e._e()]),e._v(" "),i("div",{staticClass:"form-add-dialog-body"},[i("wk-form",{ref:"formAddForm",staticClass:"is-dialog",attrs:{model:e.editForm,rules:e.rules,"field-from":e.editForm,"field-list":e.fields,"validate-on-rule-change":!1,"label-position":"top"},on:{change:e.wkFormChange},scopedSlots:e._u([{key:"default",fn:function(t){return[t.data&&"city"==t.data.formType?i("v-distpicker",{attrs:{province:e.editForm[t.data.field].province,city:e.editForm[t.data.field].city,disabled:t.data.disabled,"hide-area":""},on:{province:function(i){e.selectProvince(i,t.data)},city:function(i){e.selectCity(i,t.data)}}}):e._e()]}}])}),e._v(" "),e._t("default")],2),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[e._v("保存")]),e._v(" "),i("el-button",{nativeOn:{click:function(t){return e.handleCancel(t)}}},[e._v("取消")])],1)])},l=[],n=i("5067"),r=i("5a8c"),s=i("ed08"),o=i("9dba"),d={name:"FormAddDialog",components:{WkForm:n["a"],VDistpicker:r["a"]},mixins:[o["a"]],props:{title:String,form:Object,rules:Object,fields:Array,helpObj:Object,visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,editForm:{}}},computed:{},watch:{visible:{handler:function(e){var t=this;e&&this.$nextTick((function(){t.$refs.formAddForm&&(t.editForm=Object(s["z"])(t.form||{}),t.$refs.formAddForm.$children[0].clearValidate())}))},immediate:!0},form:{handler:function(e){this.editForm=Object(s["z"])(this.form||{})},immediate:!0}},mounted:function(){},methods:{handleCancel:function(){this.$emit("update:visible",!1)},handleConfirm:function(){var e=this;this.$refs.formAddForm.$children[0].validate((function(t){t&&(e.$emit("update:form",e.editForm),e.$emit("pass"))}))},wkFormChange:function(e,t,i,a){this.$emit("change",e,t,i,a,this.editForm)},selectProvince:function(e,t){this.editForm[t.field].province=e.value},selectCity:function(e,t){this.editForm[t.field].city=e.value}}},u=d,f=(i("9539"),i("2877")),m=Object(f["a"])(u,a,l,!1,null,"45270a4f",null);t["a"]=m.exports},"71f6":function(e,t,i){"use strict";i("e587")},7403:function(e,t,i){"use strict";t["a"]={methods:{getStatusColor:function(e){return 0==e?"#FF991F":1==e?"#00875A":2==e?"#DE350B":3==e?"#FF991F":4==e?"#5E6C84":5==e?"#FF991F":6==e||8==e?"#5E6C84":10==e?"#0052CC":11==e?"#FF991F":12==e?"#00875A":13==e||14==e||16==e||18==e||19==e?"#5E6C84":void 0},getStatusName:function(e){return 0==e?"待审核":1==e?"通过":2==e?"拒绝":3==e?"审核中":4==e?"撤回":5==e?"未提交":6==e?"发起":8==e?"已作废":10==e?"正常":11==e?"审核中":13==e?"终止":14==e?"归档":15==e?"抄送":16==e?"已作废":18==e?"跳过":19==e?"恢复":""},getStatusIcon:function(e){return 0==e?"wk wk-icon-invalid":1==e?"wk wk-icon-success":2==e?"wk wk-icon-refuse":3==e?"wk wk-icon-in-review":4==e?"wk wk-icon-withdraw":5==e?"wk wk-icon-uncommitted":6==e?"wk wk-icon-create":8==e?"wk wk-icon-invalid":10==e?"wk wk-icon-normal":11==e?"wk wk-icon-in-review":12==e?"wk wk-icon-success":13==e||14==e?"wk wk-icon-invalid":15==e?"wk wk-source-line":16==e?"wk wk-icon-invalid":18==e?"wk wk-d-arrow-right":19==e?"wk wk-icon-reset2":""}}}},"8b13":function(e,t,i){"use strict";i.d(t,"c",(function(){return c})),i.d(t,"g",(function(){return b})),i.d(t,"a",(function(){return T})),i.d(t,"f",(function(){return F})),i.d(t,"d",(function(){return A})),i.d(t,"e",(function(){return L})),i.d(t,"b",(function(){return U}));i("b64b"),i("d81d"),i("d9e2"),i("14d9"),i("99af");var a=i("ed08"),l=i("6bfe"),n=i("7078"),r=i("0f4c");function s(e){var t=Object.keys(e);return t.map((function(t){return{label:e[t],value:parseInt(t)}}))}var o=[{name:"学历",field:"education",formType:"select",setting:[{label:"小学",value:1},{label:"初中",value:2},{label:"中专",value:3},{label:"中职",value:4},{label:"中技",value:5},{label:"高中",value:6},{label:"大专",value:7},{label:"本科",value:8},{label:"硕士",value:9},{label:"博士",value:10},{label:"博士后",value:11},{label:"其他",value:12}]},{name:"毕业院校",field:"graduateSchool",formType:"text",setting:[]},{name:"专业",field:"major",formType:"text",setting:[]},{name:"入学时间",field:"admissionTime",formType:"date",setting:[]},{name:"毕业时间",field:"graduationTime",formType:"date",setting:[]},{name:"教学方式",field:"teachingMethods",formType:"select",setting:[{label:"全日制",value:1},{label:"成人教育",value:2},{label:"远程教育",value:3},{label:"自学考试",value:4},{label:"其他",value:5}]},{name:"是否第一学历",field:"isFirstDegree",formType:"radio",setting:[{label:"否",value:0},{label:"是",value:1}]}],d={1:"小学",2:"初中",3:"中专",4:"中职",5:"中技",6:"高中",7:"大专",8:"本科",9:"硕士",10:"博士",11:"博士后",12:"其他"},u={1:"全日制",2:"成人教育",3:"远程教育",4:"自学考试",5:"其他"},f={1:"是",0:"否"},m={education:[{required:!0,message:"请选择",trigger:["blur","change"]}],graduateSchool:[{required:!0,message:"请输入",trigger:["blur","change"]}],major:[{required:!0,message:"请输入",trigger:["blur","change"]}],isFirstDegree:[{required:!0,message:"请选择",trigger:["blur","change"]}]},c={fields:o,rules:m,educationValue:d,teachingMethodsValue:u,isFirstDegreeValue:f},p=[{name:"工作单位",field:"workUnit",formType:"text",setting:[]},{name:"职务",field:"post",formType:"text",setting:[]},{name:"工作开始时间",field:"workStartTime",formType:"date",setting:[]},{name:"工作结束时间",field:"workEndTime",formType:"date",setting:[]},{name:"离职原因",field:"leavingReason",formType:"text",setting:[]},{name:"证明人",field:"witness",formType:"text",setting:[]},{name:"证明人电话",field:"witnessPhone",formType:"mobile",setting:[]},{name:"工作备注",field:"workRemarks",formType:"text",setting:[]}],g=function(e,t,i){Object(l["c"])(t)||Object(a["B"])(t)?i():i(new Error("手机格式有误"))},v={workUnit:[{required:!0,message:"请输入",trigger:["blur","change"]}],post:[{required:!0,message:"请输入",trigger:["blur","change"]}],witnessPhone:[{validator:g,trigger:["blur","change"]}]},b={fields:p,rules:v},h=[{name:"证书名称",field:"certificateName",formType:"text",setting:[]},{name:"证书级别",field:"certificateLevel",formType:"text",setting:[]},{name:"证书/证件编号",field:"certificateNum",formType:"text",setting:[]},{name:"有效期起始日期",field:"startTime",formType:"date",setting:[]},{name:"有效期到期日",field:"endTime",formType:"date",setting:[]},{name:"发证机构",field:"issuingAuthority",formType:"text",setting:[]},{name:"发证日期",field:"issuingTime",formType:"date",setting:[]},{name:"证件备注",field:"remarks",formType:"text",setting:[]}],y={certificateName:[{required:!0,message:"请输入",trigger:["blur","change"]}]},T={fields:h,rules:y},w=[{name:"培训课程",field:"trainingCourse",formType:"text",setting:[]},{name:"培训机构名称",field:"trainingOrganName",formType:"text",setting:[]},{name:"培训开始时间",field:"startTime",formType:"date",setting:[]},{name:"培训结束时间",field:"endTime",formType:"date",setting:[]},{name:"培训时长",field:"trainingDuration",formType:"number",setting:[]},{name:"培训成绩",field:"trainingResults",formType:"text",setting:[]},{name:"培训证书名称",field:"trainingCertificateName",formType:"text",setting:[]},{name:"培训备注",field:"remarks",formType:"textarea",setting:[]}],k={trainingCourse:[{required:!0,message:"请输入",trigger:["blur","change"]}]},F={fields:w,rules:k},x={1:"男",2:"女"},C={1:"阳历",2:"农历"},q=[{label:"男",value:1},{label:"女",value:2}],_={1:"身份证",2:"港澳通行证",3:"台湾通行证",4:"护照",5:"其他"},O=[{label:"身份证",value:1},{label:"港澳通行证",value:2},{label:"台湾通行证",value:3},{label:"护照",value:4},{label:"其他",value:5}],j={1:"正式",2:"非正式"},P=[{label:"正式",value:1},{label:"非正式",value:2}],S={0:"无试用期",1:"1个月",2:"2个月",3:"3个月",4:"4个月",5:"5个月",6:"6个月"},I=[{label:"无试用期",value:0},{label:"1个月",value:1},{label:"2个月",value:2},{label:"3个月",value:3},{label:"4个月",value:4},{label:"5个月",value:5},{label:"6个月",value:6}],V=[{label:"实习",value:3},{label:"兼职",value:4},{label:"劳务",value:5},{label:"顾问",value:6},{label:"返聘",value:7},{label:"外包",value:8}],D={1:"正式",2:"试用",3:"实习",4:"兼职",5:"劳务",6:"顾问",7:"返聘",8:"外包",11:"在职",12:"全职",13:"待入职",14:"待离职",15:"已离职"},R={1:"正式",2:"试用",3:"实习",4:"兼职",5:"劳务",6:"顾问",7:"返聘",8:"外包"},A={sexValue:x,birthdayTypeValue:C,idTypeValue:_,employmentFormsValue:j,probationValue:S,statusValue:D,validStatusValue:R,getValueList:s,sexSetting:q,idTypeSetting:O,employmentFormsSetting:P,probationSetting:I,statusSetting:V},$=[{name:"部门",field:"newDept",formType:"structure",props:{dataType:"hrm"},request:r["e"],setting:[]},{name:"岗位",field:"newPost",formType:"text",setting:[]},{name:"直属上级",field:"newParentId",formType:"user",props:{label:"employeeName",value:"employeeId",isList:!0},request:n["F"],setting:[]},{name:"计划转正日期",field:"becomeTime",formType:"text",disabled:!0,setting:[]},{name:"实际转正日期",field:"effectTime",formType:"date",setting:[]},{name:"备注",field:"remarks",formType:"textarea",setting:[]}],E={effectTime:[{required:!0,message:"请选择",trigger:["blur","change"]}]},L={fields:$,rules:E};function N(e,t){var i=[{label:"调岗",value:5},{label:"晋升",value:6},{label:"降级",value:7}];3!=t&&4!=t||i.push({label:"转为全职员工",value:8});var a=[];a=7==e?[{label:"违规违纪",value:4},{label:"绩效不达标",value:5},{label:"个人身体原因",value:6},{label:"不适应当前岗位",value:7}]:[{label:"组织架构调整",value:1},{label:"个人申请",value:2},{label:"工作安排",value:3}];var l=[{name:"异动类型",field:"changeType",formType:"select",setting:i},{name:"异动原因",field:"changeReason",formType:"select",setting:a}];return 8==e&&(l=l.concat([{name:"入职日期",field:"entryTime",formType:"date",disabled:!0,setting:[]},{name:"试用期",field:"probation",formType:"select",setting:[{label:"无试用期",value:0},{label:"1个月",value:1},{label:"2个月",value:2},{label:"3个月",value:3},{label:"4个月",value:4},{label:"5个月",value:5},{label:"6个月",value:6}]}])),l.concat([{name:"原部门",field:"oldDept",formType:"structure",disabled:!0,props:{dataType:"hrm"},request:r["e"],setting:[]},{name:"变更为",field:"newDept",formType:"structure",props:{dataType:"hrm"},request:r["e"],setting:[]},{name:"原岗位",field:"oldPost",formType:"text",disabled:!0,setting:[]},{name:"变更为",field:"newPost",formType:"text",setting:[]},{name:"原岗位职级",field:"oldPostLevel",disabled:!0,formType:"text",setting:[]},{name:"变更为",field:"newPostLevel",formType:"text",setting:[]},{name:"原工作地点",field:"oldWorkAddress",formType:"text",disabled:!0,setting:[]},{name:"变更为",field:"newWorkAddress",formType:"text",setting:[]},{name:"生效日期",field:"effectTime",formType:"date",setting:[]},{name:"备注",field:"remarks",formType:"textarea",setting:[]}])}var B={effectTime:[{required:!0,message:"请选择",trigger:["blur","change"]}]},U={fieldsFunc:N,rules:B}},9539:function(e,t,i){"use strict";i("d64e")},d64e:function(e,t,i){},e587:function(e,t,i){}}]);