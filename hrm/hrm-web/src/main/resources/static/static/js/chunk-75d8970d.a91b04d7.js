(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75d8970d"],{"06e8":function(e,t,n){},"0942":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("b775");function i(e){return Object(a["a"])({url:"hrmActionRecord/queryRecordList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},"25ba":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("flexbox",{staticClass:"wk-border-menu",class:{"is-select":e.isSelect}},e._l(e.list,(function(t,a){return n("div",{key:a,staticClass:"wk-border-menu__item",class:{"is-select":e.tabType==t.name},on:{click:function(n){e.tabClick(t,a)}}},[n("div",{staticClass:"label"},[e._v(e._s(t.label))]),e._v(" "),n("div",{staticClass:"num"},[e._v(e._s(t.num))])])})))},i=[],r=(n("a9e3"),n("b0c0"),{name:"WkBorderMenu",components:{},props:{list:Array,value:[String,Number],isSelect:{type:Boolean,default:!1}},data:function(){return{tabType:""}},computed:{},watch:{value:{handler:function(e){this.tabType=e},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{tabClick:function(e,t){this.$emit("input",e.name),this.$emit("select",e,t)}}}),o=r,s=(n("8252"),n("2877")),l=Object(s["a"])(o,a,i,!1,null,"7c8cfb22",null);t["a"]=l.exports},"3f91":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("xr-create",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:e.titleContent},on:{close:e.close,save:e.saveClick}},[n("create-sections",{attrs:{title:"基本信息"}},[n("wk-form",{ref:"baseForm",attrs:{model:e.baseForm,rules:e.baseRules,"field-from":e.baseForm,"field-list":e.baseFields,"label-position":"top"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.data;return[a&&"post"==a.formType?n("el-select",{staticStyle:{width:"100%"},model:{value:e.baseForm[a.field],callback:function(t){e.$set(e.baseForm,a.field,t)},expression:"baseForm[data.field]"}},[e._l(e.postList,(function(t,a){return n("el-option",{key:a,attrs:{label:t.postName,value:t.postId}},[e._v("\n            "+e._s(t.postName)),n("span",{staticStyle:{color:"#6b778c"}},[e._v(e._s(t.deptName?"("+t.deptName+")":""))])])})),e._v(" "),n("div",{staticClass:"empty",attrs:{slot:"empty"},slot:"empty"},[n("span",[e._v("暂无可选职位。")]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:e.postSetClick}},[e._v("前去设置")])],1)],2):e._e(),e._v(" "),a&&"channel"==a.formType?n("el-select",{staticStyle:{width:"100%"},model:{value:e.baseForm[a.field],callback:function(t){e.$set(e.baseForm,a.field,t)},expression:"baseForm[data.field]"}},e._l(e.channelList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))):e._e()]}}])})],1)],1)},i=[],r=(n("d3b7"),n("159b"),n("14d9"),n("4ad8")),o=n("a05e"),s=n("1aac"),l=n("8156"),d=n("5067"),c=n("10ff"),u=n("6f11"),h=n("ed08"),m=n("0730"),f={name:"CandidateCreateView",components:{XrCreate:l["a"],CreateSections:c["a"],WkForm:d["a"]},filters:{},mixins:[m["a"]],props:{detail:Object},data:function(){return{loading:!1,baseFields:u["a"].fields,baseRules:{},baseForm:{},channelList:[],postList:[]}},computed:{titleContent:function(){return this.detail?"编辑候选人":"新建候选人"}},watch:{},created:function(){var e=this;this.getChannelList(),this.getPostList();var t={};if(u["a"].fields.forEach((function(n){t[n.field]=e.getRules(n)})),this.baseRules=t,this.detail){var n=Object(h["z"])(this.detail),a={};this.baseFields.forEach((function(e){"postId"==e.field&&0==n.postStatus&&(n.postId=""),a[e.field]=n[e.field]})),this.baseForm=a}else this.baseForm={sex:1}},mounted:function(){},beforeDestroy:function(){},methods:{getChannelList:function(){var e=this;Object(s["f"])().then((function(t){var n=t.data||[];n.forEach((function(e){1==e.status&&(e.label=e.value,e.value=e.channelId)})),e.channelList=n})).catch((function(){}))},getPostList:function(){var e=this;Object(o["b"])().then((function(t){e.postList=t.data||[]})).catch((function(){}))},close:function(){this.$emit("close")},saveClick:function(){var e=this;this.$refs.baseForm.$children[0].validate((function(t){t&&e.uploadCreateData()}))},uploadCreateData:function(){var e=this,t=Object(h["z"])(this.baseForm);for(var n in t)void 0===t[n]&&(t[n]=null);this.detail&&(t.candidateId=this.detail.candidateId),this.loading=!0;var a=this.detail?r["i"]:r["a"];a(t).then((function(t){e.$emit("close"),e.$message.success("".concat(e.titleContent,"成功")),e.$emit("success"),e.loading=!1})).catch((function(){e.loading=!1}))},postSetClick:function(){this.$router.push({name:"hrmPost"})}}},p=f,b=(n("66bb"),n("2877")),v=Object(b["a"])(p,a,i,!1,null,"6bde2ba4",null);t["a"]=v.exports},"41f9":function(e,t,n){},"4a1c":function(e,t,n){},"4ad8":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"e",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"f",(function(){return v}));var a=n("b775");function i(e){return Object(a["a"])({url:"hrmRecruitCandidate/queryById/".concat(e),method:"post"})}function r(e){return Object(a["a"])({url:"hrmRecruitCandidate/deleteByIds",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(a["a"])({url:"hrmRecruitCandidate/queryCandidateStatusNum",method:"post"})}function s(e){return Object(a["a"])({url:"hrmRecruitCandidate/queryPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(a["a"])({url:"hrmRecruitCandidate/addCandidate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(a["a"])({url:"hrmRecruitCandidate/setCandidate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(a["a"])({url:"hrmRecruitCandidate/queryCleanCandidateIds",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(a["a"])({url:"hrmRecruitCandidate/updateCandidatePost",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(a["a"])({url:"hrmRecruitCandidate/updateCandidateRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(a["a"])({url:"hrmRecruitCandidate/updateCandidateStatus",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function f(e){return Object(a["a"])({url:"hrmRecruitCandidate/eliminateCandidate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(a["a"])({url:"hrmRecruitInterview/addBatchInterview",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(a["a"])({url:"hrmRecruitInterview/setInterviewResult",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(a["a"])({url:"hrmRecruitCandidate/queryFile/".concat(e),method:"post"})}},"4ade":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"candidate-index",attrs:{id:"employee-main-container"}},[n("xr-header",{attrs:{"ft-top":"0",placeholder:"请输入姓名/手机号/邮箱",label:"候选人","show-search":""},on:{search:e.searchClick}},[n("template",{slot:"bottom-ft"},[n("wk-popover-filter",{staticStyle:{"margin-right":"5px"},attrs:{width:e.popoverFilterWidth,"field-from":e.filterObj,"field-list":e.filterList,"has-content":e.hasFilterContent,placement:"bottom-end"},on:{"update:fieldFrom":function(t){e.filterObj=t},sure:e.refreshList,reset:e.resetFilter,show:e.filterShowClick}}),e._v(" "),e.hasFilterContent?n("el-button",{attrs:{type:"text"},on:{click:e.resetFilter}},[e._v("清除筛选")]):e._e()],1),e._v(" "),n("template",{slot:"ft"},[e.createAuth?n("el-button",{attrs:{type:"primary"},on:{click:e.createClick}},[e._v("新建候选人")]):e._e()],1)],2),e._v(" "),n("div",{staticClass:"crm-container"},[n("wk-border-menu",{attrs:{list:e.tabList,"is-select":""},on:{select:e.tabClick},model:{value:e.tabType,callback:function(t){e.tabType=t},expression:"tabType"}}),e._v(" "),e.selectionList.length>0?n("xr-table-header",{attrs:{handles:e.tabelHandles,selects:e.selectionList},on:{command:e.handleCommand}},[e.selectionList.length>0?[e.noHandles?n("span",{attrs:{slot:"prefix"},slot:"prefix"}):[e.statusChangeHandles.length>0?n("el-button",{staticClass:"el-dropdown-link",attrs:{slot:"prefix",icon:"wk wk-transfer",type:"primary",size:"medium"},on:{click:function(t){e.statusHandleChange(e.statusChangeHandles[0].command)}},slot:"prefix"},[e._v("\n            "+e._s(e.statusChangeHandles[0].label)+"\n            "),e.statusChangeHandles.length>1?n("el-dropdown",{on:{command:e.statusHandleChange},nativeOn:{click:function(e){e.stopPropagation()}}},[n("i",{staticClass:"el-icon-arrow-down el-icon--right"}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.statusChangeHandles,(function(t,a){return n("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:0!=a,expression:"index != 0"}],key:t.command,attrs:{command:t.command}},[e._v(e._s(t.label))])})))],1):e._e()],1):e._e(),e._v(" "),e.moreHandles.length>0?n("el-dropdown",{attrs:{slot:"suffix"},on:{command:e.moreHandlesChange},slot:"suffix"},[n("el-button",{staticClass:"el-dropdown-link is-more dropdown-btn",staticStyle:{"margin-left":"15px"},attrs:{icon:"wk wk-transfer",size:"medium"}},[e._v("\n              更多操作\n              "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.moreHandles,(function(t,a){return n("el-dropdown-item",{key:a,attrs:{command:t.command}},[e._v(e._s(t.label))])})))],1):e._e()]]:e._e()],2):e._e(),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"n-table--border el-table-header--white",class:e.WKConfig.tableStyle.class,staticStyle:{width:"100%"},attrs:{id:"crm-table","row-height":40,data:e.list,height:e.tableHeight,"cell-class-name":e.cellClassName,stripe:e.WKConfig.tableStyle.stripe,"use-virtual":"","highlight-current-row":""},on:{"row-click":e.handleRowClick,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{"show-overflow-tooltip":"",fixed:"",type:"selection",align:"center",width:"55",selectable:e.selectableFun}}),e._v(" "),e._l(e.fieldList,(function(t,a){return n("el-table-column",{key:a,attrs:{fixed:0==a,prop:t.field,label:t.name,"min-width":t.width,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["status"==t.column.property?[n("span",{staticClass:"status-mark",style:e.getStatusStyle(t.row.status)}),e._v(" "),n("span",[e._v(e._s(e.fieldFormatter(t.row,t.column)))])]:[e._v("\n            "+e._s(e.fieldFormatter(t.row,t.column))+"\n          ")]]}}])})})),e._v(" "),n("el-table-column")],2),e._v(" "),n("div",{staticClass:"p-contianer"},[n("el-pagination",{staticClass:"p-bar",attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),e.showDview?n("candidate-detail",{attrs:{id:e.rowID},on:{handle:e.detailHandle,close:function(t){e.showDview=!1}}}):e._e(),e._v(" "),e.isCreate?n("candidate-create-view",{attrs:{detail:e.handleRowData},on:{success:e.createSaveSuccess,close:function(t){e.isCreate=!1}}}):e._e(),e._v(" "),n("form-add-dialog",{ref:"formAdddialog",attrs:{title:e.formAddTitle,form:e.formAddForm,rules:e.formAddRules,width:1==e.formAddFields.length?"400px":"700px",fields:e.formAddFields,visible:e.formAddDialogShow},on:{"update:form":function(t){e.formAddForm=t},"update:visible":function(t){e.formAddDialogShow=t},pass:e.formAddPass,change:e.formChange}},["clear"===e.formAddCommand?n("div",{staticStyle:{"margin-bottom":"10px",color:"#6b778c"},attrs:{slot:"top"},slot:"top"},[e._v("可根据未更改候选人简历状态的时间清理候选人")]):e._e(),e._v(" "),"clear"===e.formAddCommand?n("div",{staticStyle:{"margin-top":"10px",color:"#6b778c"}},[e._v(e._s(e.clearTips))]):e._e()]),e._v(" "),e.waitCreateShow?n("employee-create-view",{attrs:{detail:e.handleRowData,"create-type":e.formAddCommand},on:{success:e.refreshList,close:function(t){e.waitCreateShow=!1}}}):e._e()],1)},i=[],r=n("5530"),o=(n("b64b"),n("14d9"),n("3c65"),n("d3b7"),n("159b"),n("25f0"),n("99af"),n("b0c0"),n("ac1f"),n("841c"),n("4de4"),n("d81d"),n("caad"),n("a15b"),n("4ad8")),s=n("cccc"),l=n("7078"),d=n("a05e"),c=n("1aac"),u=n("5057"),h=n("8e93"),m=n("9011"),f=n("3f91"),p=n("b6f5"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{ref:"wkDialog",attrs:{visible:e.visible,"append-to-body":!0,"close-on-click-modal":!1,title:e.title,width:e.width},on:{close:e.handleCancel}},[n("div",{staticClass:"form-add-dialog-body"},[e._t("top"),e._v(" "),n("wk-form",{ref:"formAddForm",class:1==e.fields.length?"is-vertical-dialog":"is-dialog",attrs:{model:e.editForm,rules:e.rules,"field-from":e.editForm,"field-list":e.fields,"validate-on-rule-change":!1,"label-position":"top"},on:{change:e.wkFormChange},scopedSlots:e._u([{key:"default",fn:function(t){return[t.data&&"city"==t.data.formType?n("v-distpicker",{attrs:{province:e.editForm[t.data.field].province,city:e.editForm[t.data.field].city,"hide-area":""},on:{province:function(n){e.selectProvince(n,t.data)},city:function(n){e.selectCity(n,t.data)}}}):e._e()]}}])}),e._v(" "),e._t("default")],2),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:e.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[e._v("保存")]),e._v(" "),n("el-button",{nativeOn:{click:function(t){return e.handleCancel(t)}}},[e._v("取消")])],1)])},v=[],g=n("5067"),y=n("5a8c"),w=n("ed08"),C=n("9dba"),T={name:"FormAddDialog",components:{WkForm:g["a"],VDistpicker:y["a"]},mixins:[C["a"]],props:{title:String,form:Object,rules:Object,fields:Array,visible:{type:Boolean,required:!0,default:!1},width:{type:String,default:"700px"}},data:function(){return{loading:!1,editForm:{}}},computed:{},watch:{visible:{handler:function(e){var t=this;e&&this.$nextTick((function(){t.$refs.formAddForm&&t.$refs.formAddForm.$children[0].clearValidate()}))},immediate:!0},form:{handler:function(e){this.editForm=Object(w["z"])(this.form||{})},immediate:!0}},mounted:function(){},methods:{handleCancel:function(){this.$refs.formAddForm&&(this.$refs.formAddForm.$children[0].clearValidate(),this.$refs.formAddForm.$children[0].resetFields()),this.$emit("update:visible",!1)},handleConfirm:function(){var e=this;this.$refs.formAddForm.$children[0].validate((function(t){t&&(e.$emit("update:form",e.editForm),e.$emit("pass"))}))},wkFormChange:function(e,t,n,a){this.$emit("change",e,t,n,a,this.editForm)},selectProvince:function(e,t){this.editForm[t.field].province=e.value},selectCity:function(e,t){this.editForm[t.field].city=e.value}}},j=T,_=(n("703b"),n("2877")),F=Object(_["a"])(j,b,v,!1,null,"9c12488e",null),k=F.exports,A=n("e510"),O=n("25ba"),L=n("2f62"),I=n("6f11"),x=n("6bfe"),S={name:"CandidateIndex",components:{XrHeader:u["a"],XrTableHeader:h["a"],WkPopoverFilter:m["a"],CandidateCreateView:f["a"],CandidateDetail:p["a"],FormAddDialog:k,EmployeeCreateView:A["a"],WkBorderMenu:O["a"]},provide:function(){return{manageAuth:this.manageAuth}},data:function(){return{loading:!1,tableHeight:document.documentElement.clientHeight-350,list:[],fieldList:[],handleObj:{firstPass:{label:"移动到初选通过",command:"firstPass",icon:"wk wk-delete"},interview:{label:"安排面试",command:"interview",icon:"wk wk-delete"},pass:{label:"移动到面试通过",command:"pass",icon:"wk wk-delete"},wait:{label:"移动到待入职/入职",command:"wait",icon:"wk wk-delete"},new:{label:"移动到新候选人",command:"new",icon:"wk wk-delete"},offer:{label:"发offer",command:"offer",icon:"wk wk-delete"},again:{label:"安排复试",command:"again",icon:"wk wk-delete"},confirm:{label:"移动到入职",command:"confirm",icon:"wk wk-delete"}},currentPage:1,pageSize:15,pageSizes:[15,30,60,100],total:0,search:"",queryParams:{},popoverFilterWidth:document.documentElement.clientWidth-80,tabType:"all",tabList:[{label:"全部",name:"all",num:0}],rowID:"",showDview:!1,channelList:[],postList:[],filterObj:{age:[void 0,void 0],workTime:[void 0,void 0]},selectionList:[],handleRowData:null,isCreate:!1,waitCreateShow:!1,formAddTitle:"",formAddCommand:"",formAddForm:{},formAddRules:{},formAddFields:[],formAddDialogShow:!1,clearTips:"",clearList:[],eliminateList:[]}},computed:Object(r["a"])(Object(r["a"])({},Object(L["b"])(["hrm"])),{},{recruitAuth:function(){return this.hrm.recruit},createAuth:function(){return this.recruitAuth&&this.recruitAuth.save},detailAuth:function(){return this.recruitAuth&&this.recruitAuth.read},manageAuth:function(){return this.recruitAuth&&this.recruitAuth.manage},deleteAuth:function(){return this.recruitAuth&&this.recruitAuth.delete},tabelHandles:function(){if(this.manageAuth){if(1==this.tabType||2==this.tabType||3==this.tabType||4==this.tabType||5==this.tabType||6==this.tabType)return[{label:"淘汰/流失",command:"eliminate",icon:"wk wk-delete"}];if(7==this.tabType)return[{label:"恢复到新候选人",command:"reset",icon:"wk wk-reset"}]}return[]},hasFilterContent:function(){if(this.filterObj){for(var e=!1,t=Object.keys(this.filterObj),n=0;n<t.length;n++){var a=t[n];""!=this.filterObj[a]&&this.filterObj[a]!=[]&&null!=this.filterObj[a]&&void 0!=this.filterObj[a]&&(Object(x["a"])(this.filterObj[a])&&2===this.filterObj[a].length&&void 0===this.filterObj[a][0]&&void 0===this.filterObj[a][1]||(e=!0))}return e}return!1},filterList:function(){return[{name:"职位",field:"postId",formType:"select",setting:this.postList},{name:"招聘负责人",field:"ownerEmployeeId",formType:"user",props:{label:"employeeName",value:"employeeId",isList:!0},request:l["F"],setting:[]},{name:"性别",field:"sex",formType:"radio",setting:[{label:"男",value:1},{label:"女",value:2}]},{name:"年龄",field:"age",formType:"range",precision:0,setting:[]},{name:"工作年限",field:"workTime",formType:"range",precision:0,setting:[]},{name:"学历",field:"education",formType:"select",setting:I["a"].getValueList(I["a"].educationValue)},{name:"毕业院校",field:"graduateSchool",formType:"text",setting:[]},{name:"最近工作单位",field:"latestWorkPlace",formType:"text",setting:[]},{name:"招聘渠道",field:"channelId",formType:"select",setting:this.channelList},{name:"面试官",field:"interviewEmployeeId",formType:"user",props:{label:"employeeName",value:"employeeId",isList:!0},request:l["F"],setting:[]},{name:"面试时间",field:"interviewTime",formType:"dateRange",setting:[]},{name:"创建人",field:"createUserId",formType:"user",props:{label:"employeeName",value:"employeeId",isList:!0},request:l["F"],setting:[]},{name:"创建时间",field:"createTime",formType:"dateRange",setting:[]}]},noHandles:function(){return"all"==this.tabType||!this.manageAuth&&!this.deleteAuth},statusChangeHandles:function(){if(this.noHandles||!this.manageAuth)return[];var e=[];1==this.tabType?e=["firstPass","interview","pass"]:2==this.tabType?e=["interview","new","pass"]:3==this.tabType?e=["pass","new","firstPass"]:4==this.tabType?e=["offer","new","firstPass","again"]:5==this.tabType?e=[]:6==this.tabType&&1==this.selectionList.length&&(e=["confirm"]),1!=this.tabType&&2!=this.tabType&&4!=this.tabType&&5!=this.tabType||1!=this.selectionList.length||e.push("wait");for(var t=[],n=0;n<e.length;n++){var a=e[n];t.push(this.handleObj[a])}return t},moreHandles:function(){if(this.noHandles)return[];if(1==this.tabType||2==this.tabType||3==this.tabType||4==this.tabType){var e=this.manageAuth?[{label:"更改应聘职位",command:"changePost",icon:"wk wk-delete"},{label:"更改应聘渠道",command:"changeChannel",icon:"wk wk-delete"},{label:"一键清理候选人",command:"clear",icon:"wk wk-delete"}]:[];if(3==this.tabType&&1==this.selectionList.length){e.unshift({label:"更改面试安排",command:"changeInterview",icon:"wk wk-delete"});var t=this.selectionList[0];4!=t.interviewResult&&e.unshift({label:"取消面试",command:"cancelInterview",icon:"wk wk-delete"})}return this.deleteAuth&&e.push({label:"删除",command:"delete",icon:"wk wk-delete"}),e}return 7==this.tabType&&this.deleteAuth?[{label:"删除",command:"delete",icon:"wk wk-delete"}]:[]}}),watch:{},created:function(){var e=this;window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-(e.selectionList.length>0?400:350)};var t=I["a"].getValueList(I["a"].statusValue),n=[];if(t.forEach((function(e){n.push({label:e.label,name:e.value.toString(),num:0})})),this.tabList=this.tabList.concat(n),"filter"==this.$route.query.workbench){var a=this.$route.query;a&&a.tabType?this.tabType=a.tabType:(this.tabType="",this.queryParams=a,delete this.queryParams["workbench"])}this.fieldList=I["a"].tableFields,this.refreshList()},mounted:function(){this.initTask()},methods:{getTabsNum:function(){var e=this;Object(o["h"])().then((function(t){var n=t.data||{},a=0;e.tabList.forEach((function(e){"all"!=e.name&&(e.num=n[parseInt(e.name)]||0,a+=e.num)})),e.tabList[0].num=a})).catch((function(){}))},resetFilter:function(){this.filterObj={age:[void 0,void 0],workTime:[void 0,void 0]},this.refreshList()},createClick:function(){this.handleRowData=null,this.isCreate=!0},createSaveSuccess:function(){this.refreshList()},searchClick:function(e){this.search=e,this.refreshList()},detailHandle:function(e){"delete"===e.type&&(this.showDview=!1),this.refreshList()},tabClick:function(e){this.queryParams={},this.refreshList()},refreshList:function(){this.getTabsNum(),this.handleCurrentChange(1)},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getList:function(){var e=this;this.loading=!0;var t={page:this.currentPage,limit:this.pageSize,search:this.search};for(var n in"all"!=this.tabType&&(t.status=this.tabType),this.filterObj)"age"==n?(t.minAge=this.filterObj.age[0],t.maxAge=this.filterObj.age[1]):"workTime"==n?(t.minWorkTime=this.filterObj.workTime[0],t.maxWorkTime=this.filterObj.workTime[1]):t[n]=this.filterObj[n];for(var a in this.queryParams)t[a]=this.queryParams[a];Object(o["g"])(t).then((function(t){e.list=t.data.list,e.total=t.data.totalRow,e.loading=!1})).catch((function(){e.loading=!1}))},fieldFormatter:function(e,t){var n=I["a"]["".concat(t.property,"Value")];if(n)return"status"===t.property&&3===e[t.property]&&1!=e.interviewResult?"".concat(n[e[t.property]],"（").concat(I["a"].interviewResultValue[e.interviewResult],"）"):n[e[t.property]]||"--";if("postId"==t.property)return"".concat(e.postName||"").concat(0===e.postStatus?"（已停止招聘）":"")||"--";if("channelId"==t.property)return e.channelName||"--";var a=e[t.property];return Object(x["c"])(a)?"--":a},getStatusStyle:function(e){return{backgroundColor:I["a"].statusColorValue[e]}},cellClassName:function(e){e.row;var t=e.column;e.rowIndex,e.columnIndex;return this.detailAuth&&"candidateName"==t.property?"can-visit--underline":""},handleRowClick:function(e,t,n){this.detailAuth&&"candidateName"==t.property&&(this.rowID=e.candidateId,this.showDview=!0)},selectableFun:function(){return"all"!==this.tabType},handleSelectionChange:function(e){this.selectionList=e,this.tableHeight=document.documentElement.clientHeight-(this.selectionList.length>0?400:350)},handleCommand:function(e){var t=this;this.formAddCommand=e,"reset"==e?this.$confirm("确定恢复为新候选人?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.updateStatus(I["a"].statusKeyValue.new)})).catch((function(){})):"eliminate"==e&&(this.formAddTitle="淘汰/流失候选人",this.formAddForm={eliminate:""},this.formAddRules={eliminate:[{required:!0,message:"请选择",trigger:["blur","change"]}]},this.getEliminateList().then((function(){t.formAddFields=[{name:"淘汰/流失原因",field:"eliminate",formType:"select",setting:t.eliminateList},{name:"备注",field:"remarks",formType:"textarea",setting:[]}],t.formAddDialogShow=!0})))},filterShowClick:function(){0!=this.postList.length&&0!=this.channelList.length||(this.getChannelList(),this.getPostList())},getChannelList:function(){var e=this;return new Promise((function(t,n){0==e.channelList.length?Object(c["f"])().then((function(n){var a=n.data||[];a.forEach((function(e){1==e.status&&(e.label=e.value,e.value=e.channelId)})),e.channelList=a,t(e.channelList)})).catch((function(){n&&n()})):t(e.channelList)}))},getPostList:function(){var e=this;return new Promise((function(t,n){0==e.postList.length?Object(d["b"])().then((function(n){var a=n.data||[];a.forEach((function(e){e.label=e.postName,e.value=e.postId})),e.postList=a,t(e.postList)})).catch((function(){n&&n()})):t(e.postList)}))},getEliminateList:function(){var e=this;return new Promise((function(t,n){0==e.eliminateList.length?Object(s["q"])().then((function(n){var a,i=(null===(a=n.data)||void 0===a?void 0:a.recruit)||[];i.forEach((function(e){return{label:e,value:e}})),e.eliminateList=i,t(e.eliminateList)})).catch((function(){n&&n()})):t(e.eliminateList)}))},statusHandleChange:function(e){var t=this;if(this.formAddCommand=e,"firstPass"==e||"pass"==e||"offer"==e||"new"==e)this.updateStatus(I["a"].statusKeyValue[e]);else if("interview"==e||"again"==e||"changeInterview"==e){this.formAddTitle={interview:"安排面试",again:"安排复试",changeInterview:"更改面试安排"}[e];var n="changeInterview"==e?this.selectionList[0]:null;this.formAddForm={interviewEmployeeId:n?n.interviewEmployeeId:"",otherInterviewEmployeeIds:n&&n.otherInterviewEmployeeIds?n.otherInterviewEmployeeIds.split(",").filter((function(e){return!Object(x["c"])(e)})):[],interviewTime:n?n.interviewTime:"",type:n?n.interviewType:""},this.formAddRules={interviewTime:[{required:!0,message:"请选择",trigger:["blur","change"]}]},this.getChannelList().then((function(){t.formAddFields=[{name:"面试官",field:"interviewEmployeeId",formType:"user",props:{label:"employeeName",value:"employeeId",isList:!0},request:l["F"],setting:[]},{name:"其他面试官",field:"otherInterviewEmployeeIds",formType:"user",radio:!1,props:{label:"employeeName",value:"employeeId",isList:!0},request:l["F"],setting:[]},{name:"面试时间",field:"interviewTime",formType:"datetime",setting:[]},{name:"面试方式",field:"type",formType:"select",setting:I["a"].getValueList(I["a"].interviewTypeValue)}],t.formAddDialogShow=!0}))}else if("wait"==e)this.selectionList.length&&(this.handleRowData=this.selectionList[0],this.waitCreateShow=!0);else if("confirm"==e&&this.selectionList.length){var a=this.selectionList[0];Object(l["D"])(a.employeeId).then((function(e){var n=e.data||{};n.entryTime=Object(w["E"])(n.entryTime),t.handleRowData=n,t.waitCreateShow=!0})).catch((function(){}))}},moreHandlesChange:function(e){var t=this;if(this.formAddCommand=e,"delete"==e)this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])(t.selectionList.map((function(e){return e.candidateId}))).then((function(e){t.$message.success("操作成功"),t.refreshList(),t.selectionList=[]}))})).catch((function(){}));else if("changeChannel"==e)this.formAddTitle="更改招聘渠道",this.formAddForm={channelId:""},this.formAddRules={channelId:[{required:!0,message:"请选择",trigger:["blur","change"]}]},this.getChannelList().then((function(){t.formAddFields=[{name:"招聘渠道",field:"channelId",formType:"select",setting:t.channelList}],t.formAddDialogShow=!0}));else if("changePost"==e)this.formAddTitle="更改应聘职位",this.formAddForm={postId:""},this.formAddRules={postId:[{required:!0,message:"请选择",trigger:["blur","change"]}]},this.getPostList().then((function(){t.formAddFields=[{name:"职位",field:"postId",formType:"select",setting:t.postList}],t.formAddDialogShow=!0}));else if("clear"==e)this.clearTips="",this.formAddTitle="一键清理候选人",this.formAddForm={status:[],day:3},this.formAddRules={status:[{required:!0,message:"请选择",trigger:["blur","change"]}],day:[{required:!0,message:"请选择",trigger:["blur","change"]}]},this.getPostList().then((function(){t.formAddFields=[{name:"清理的候选人状态",field:"status",formType:"checkbox",setting:[{label:"新候选人",value:I["a"].statusKeyValue.new},{label:"初选通过",value:I["a"].statusKeyValue.firstPass},{label:"安排面试",value:I["a"].statusKeyValue.interview},{label:"面试通过",value:I["a"].statusKeyValue.pass}]},{name:"清理的时间段",field:"day",formType:"select",setting:[{label:"3天",value:3},{label:"5天",value:5},{label:"7天",value:7},{label:"15天",value:15},{label:"30天",value:30},{label:"45天",value:45}]}],t.formAddDialogShow=!0}));else if("changeInterview"==e)this.statusHandleChange("changeInterview");else if("cancelInterview"==e){this.formAddTitle="取消面试";var n=this.selectionList[0];this.formAddForm={cancelReason:"",interviewTime:n.interviewTime,interviewEmployeeName:n.interviewEmployeeName,otherInterviewEmployeeName:n.otherInterviewEmployeeName,stageNum:n.stageNum,interviewType:I["a"].interviewTypeValue[n.interviewType]},this.formAddRules={},this.formAddFields=[{name:"面试时间",field:"interviewTime",formType:"text",disabled:!0,setting:[]},{name:"面试方式",field:"interviewType",formType:"text",disabled:!0,setting:[]},{name:"面试官",field:"interviewEmployeeName",formType:"text",disabled:!0,setting:[]},{name:"其他面试官",field:"otherInterviewEmployeeName",formType:"text",disabled:!0,setting:[]},{name:"面试轮次",field:"stageNum",formType:"text",disabled:!0,setting:[]},{name:"取消原因",field:"cancelReason",formType:"textarea",setting:[]}],this.formAddDialogShow=!0}},formAddPass:function(){var e=this;this.$refs.formAdddialog.loading=!0;var t=Object(w["z"])(this.formAddForm);t.candidateIds=this.selectionList.map((function(e){return e.candidateId}));var n=null;"changePost"===this.formAddCommand?n=o["k"]:"changeChannel"===this.formAddCommand?n=o["j"]:"clear"===this.formAddCommand?(n=o["l"],t={candidateIds:this.clearList,status:7}):["interview","again","changeInterview","cancelInterview"].includes(this.formAddCommand)?(n="cancelInterview"===this.formAddCommand?o["n"]:o["m"],"changeInterview"===this.formAddCommand?(t.candidateId=this.selectionList[0].candidateId,delete t.candidateIds):"cancelInterview"===this.formAddCommand&&(t={result:4,candidateId:this.selectionList[0].candidateId,cancelReason:this.formAddForm.cancelReason})):"eliminate"===this.formAddCommand&&(n=o["c"]),n(t).then((function(t){e.$refs.formAdddialog.loading=!1,e.$message.success("".concat(e.formAddTitle,"成功")),e.formAddDialogShow=!1,e.refreshList(),e.selectionList=[]})).catch((function(){e.$refs.formAdddialog.loading=!1}))},formChange:function(e,t,n,a,i){"clear"==this.formAddCommand&&this.getEliminateData(i)},getEliminateData:function(e){var t=this;this.clearTips="",e.status&&0!=e.status.length?Object(o["e"])({status:e.status,day:e.day}).then((function(n){t.clearList=n.data||[];var a=e.status.map((function(e){return I["a"].statusValue[e]})).join("、");t.clearTips="".concat(a,"状态下，超过").concat(e.day,"天未改变状态的候选人共有").concat(t.clearList.length,"个，确认后都移到淘汰状态")})).catch((function(){})):this.clearList=[]},updateStatus:function(e){var t=this;this.loading=!0,Object(o["l"])({candidateIds:this.selectionList.map((function(e){return e.candidateId})),status:e}).then((function(e){t.loading=!1,t.$message.success("操作成功"),t.refreshList(),t.selectionList=[]})).catch((function(){t.loading=!1}))},initTask:function(){var e=this.$route.query;"detail"===e.event&&(this.rowID=e.id,this.showDview=!0)}}},D=S,R=(n("66db"),Object(_["a"])(D,a,i,!1,null,"7881b422",null));t["default"]=R.exports},6228:function(e,t,n){},"66bb":function(e,t,n){"use strict";n("4a1c")},"66db":function(e,t,n){"use strict";n("d50a")},6766:function(e,t,n){},"6f11":function(e,t,n){"use strict";n("b64b"),n("d81d");function a(e){var t=Object.keys(e);return t.map((function(t){return{label:e[t],value:parseInt(t)}}))}var i={1:"小学",2:"初中",3:"高中",4:"大专",5:"本科",6:"硕士",7:"博士"},r={1:"男",2:"女"},o={1:"新候选人",2:"初选通过",3:"安排面试",4:"面试通过",5:"已发offer",6:"待入职",7:"已淘汰",8:"已入职"},s={1:"面试未完成",2:"面试通过",3:"面试未通过",4:"面试取消"},l={1:"#2362fb",2:"#ffc539",3:"#ffc539",4:"#20b559",5:"#20b559",6:"#ffc539",7:"#f95a5a",8:"#20b559"},d={1:"现场面试",2:"电话面试",3:"视频面试"},c={new:1,firstPass:2,interview:3,pass:4,offer:5,wait:6,eliminate:7,entry:8},u=[{name:"姓名",field:"candidateName",formType:"text",isNull:1,setting:[]},{name:"手机号",field:"mobile",formType:"mobile",isNull:1,setting:[]},{name:"性别",field:"sex",formType:"radio",isNull:1,setting:a(r)},{name:"年龄",field:"age",formType:"number",setting:[]},{name:"邮箱",field:"email",formType:"email",setting:[]},{name:"应聘职位",field:"postId",formType:"post",isNull:1,setting:[]},{name:"工作年限",field:"workTime",formType:"number",setting:[]},{name:"学历",field:"education",formType:"select",isNull:1,setting:a(i)},{name:"毕业院校",field:"graduateSchool",formType:"text",setting:[]},{name:"最近工作单位",field:"latestWorkPlace",formType:"text",setting:[]},{name:"招聘渠道",field:"channelId",formType:"channel",setting:[]}],h=[{name:"姓名",field:"candidateName",width:80},{name:"应聘职位",field:"postId",width:120},{name:"用人部门",field:"deptName",width:120},{name:"候选人状态",field:"status",width:180},{name:"手机号",field:"mobile",width:160},{name:"性别",field:"sex",width:80},{name:"年龄",field:"age",width:80},{name:"邮箱",field:"email",width:160},{name:"招聘负责人",field:"ownerEmployeeName",width:115},{name:"工作年限",field:"workTime",width:80},{name:"学历",field:"education",width:80},{name:"毕业院校",field:"graduateSchool",width:80},{name:"最近工作单位",field:"latestWorkPlace",width:120},{name:"招聘渠道",field:"channelId",width:80},{name:"面试时间",field:"interviewTime",width:80},{name:"面试轮次",field:"stageNum",width:80},{name:"面试官",field:"interviewEmployeeName",width:80},{name:"面试方式",field:"interviewType",width:80},{name:"其他面试官",field:"otherInterviewEmployeeName",width:115},{name:"创建时间",field:"createTime",width:170}];t["a"]={fields:u,tableFields:h,educationValue:i,sexValue:r,getValueList:a,statusValue:o,statusColorValue:l,statusKeyValue:c,interviewTypeValue:d,interviewResultValue:s}},"703b":function(e,t,n){"use strict";n("41f9")},7725:function(e,t,n){"use strict";n("6228")},8252:function(e,t,n){"use strict";n("06e8")},a05e:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return u}));var a=n("b775");function i(e){return Object(a["a"])({url:"hrmRecruitPost/queryById/".concat(e),method:"post"})}function r(){return Object(a["a"])({url:"hrmRecruitPost/queryAllRecruitPostList",method:"post"})}function o(e){return Object(a["a"])({url:"hrmRecruitPost/queryPostStatusNum",method:"post"})}function s(e){return Object(a["a"])({url:"hrmRecruitPost/queryRecruitPostPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(a["a"])({url:"hrmRecruitPost/addRecruitPost",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(a["a"])({url:"hrmRecruitPost/setRecruitPost",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(a["a"])({url:"hrmRecruitPost/updateRecruitPostStatus",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(){return Object(a["a"])({url:"hrmRecruitPostType/queryPostType",method:"post"})}},a43d:function(e,t,n){"use strict";n("d931")},b28c:function(e,t,n){"use strict";n("6766")},b6f5:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("slide-view",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"d-view",attrs:{"listener-ids":e.listenerIDs,"no-listener-ids":e.noListenerIDs,"no-listener-class":e.noListenerClass,"body-style":{padding:0,height:"100%",background:"white"}},on:{afterEnter:e.viewAfterEnter,close:e.hideView}},[e.detailData?n("flexbox",{staticClass:"side-detail-main",staticStyle:{padding:"0 15px"},attrs:{direction:"column",align:"stretch"}},[n("wk-detail-header",{attrs:{"show-edit":e.manageAuth},on:{edit:e.editClick,"command-select":e.commandSelect}},[n("div",{staticClass:"employee-header",attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"employee-header__title"},[e._v("候选人\n          "),n("div",{staticClass:"employee-header__top"},[n("span",{staticClass:"name"},[e._v(e._s(e.detailData.candidateName))]),e._v(" "),1===e.detailData.sex||2===e.detailData.sex?n("el-tag",{staticClass:"xr-sex-tag",class:{1:"is-man",2:"is-woman"}[e.detailData.sex],attrs:{"disable-transitions":"",size:"mini"}},[n("i",{class:{1:"wk wk-man",2:"wk wk-woman"}[e.detailData.sex]})]):e._e()],1),e._v(" "),n("div",{staticClass:"employee-header__bottom"})])])]),e._v(" "),n("ul",{staticClass:"employee-main_information"},[n("li",[n("span",[e._v("性别")]),e._v(" "),n("span",[e._v(e._s(e.sexName))])]),e._v(" "),n("li",[n("span",[e._v("学历")]),e._v(" "),n("span",[e._v(e._s(e.fieldFormatter(e.detailData,"education")||"--"))])]),e._v(" "),n("li",[n("span",[e._v("工作年限")]),e._v(" "),n("span",[e._v(e._s(e.detailData.workTime||"--"))])]),e._v(" "),n("li",[n("span",[e._v("电话")]),e._v(" "),n("span",[e._v(e._s(e.detailData.mobile||"--"))])]),e._v(" "),n("li",[n("span",[e._v("邮箱")]),e._v(" "),n("span",[e._v(e._s(e.detailData.email||"--"))])])]),e._v(" "),n("el-tabs",{staticClass:"side-detail__tabs--default",staticStyle:{flex:"1"},model:{value:e.tabCurrentName,callback:function(t){e.tabCurrentName=t},expression:"tabCurrentName"}},[n("el-tab-pane",{attrs:{label:"详细资料",name:"baseInfo",lazy:""}},[n("wk-base-detail",{attrs:{list:e.baseList}})],1),e._v(" "),n("el-tab-pane",{attrs:{label:"材料附件",name:"file",lazy:""}},[n("candidate-file",{attrs:{id:e.id,detail:e.detailData}})],1),e._v(" "),n("el-tab-pane",{attrs:{label:"操作记录",name:"handle",lazy:""}},[n("candidate-handle",{attrs:{id:e.id}})],1)],1)],1):e._e(),e._v(" "),e.isCreate?n("candidate-create-view",{attrs:{detail:e.detailData},on:{success:e.editSuccess,close:function(t){e.isCreate=!1}}}):e._e()],1)},i=[],r=n("5530"),o=(n("a9e3"),n("b0c0"),n("14d9"),n("99af"),n("4ad8")),s=n("130f"),l=n("5337"),d=n("8f7f"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"rc-cont"},e._l(e.list,(function(t,a){return n("flexbox",{key:a,staticClass:"ha-cont",attrs:{align:"stretch",justify:"flex-start"}},[n("div",{staticClass:"ha-week"},[n("div",[e._v(e._s(e.getYMDFormaterTime(t.createTime)))]),e._v(" "),n("div",[e._v(e._s(e.getWeekFormaterTime(t.createTime)))])]),e._v(" "),n("div",{staticClass:"ha-circle"}),e._v(" "),n("div",{staticClass:"ha-time"},[e._v(e._s(e.getTimeFormaterTime(t.createTime)))]),e._v(" "),n("div",{staticClass:"ha-name"},[e._v(e._s(t.realname))]),e._v(" "),n("div",{staticClass:"ha-content"},e._l(t.content,(function(t,a){return n("p",{key:a},[e._v(e._s(t))])}))),e._v(" "),n("div",{staticClass:"ha-line"})])})))},u=[],h=(n("d3b7"),n("159b"),n("0942")),m=n("ed08"),f={name:"CandidateHandle",components:{},props:{id:[String,Number]},data:function(){return{loading:!1,list:[]}},computed:{},watch:{id:function(e){this.list=[],this.getDetail()}},mounted:function(){this.getDetail()},activated:function(){},deactivated:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(h["a"])({type:3,typeId:this.id}).then((function(t){e.loading=!1;var n=t.data||[];n.forEach((function(e){e.content=e.content?JSON.parse(e.content):[]})),e.list=n})).catch((function(){e.loading=!1}))},getYMDFormaterTime:function(e){return Object(m["E"])(e)},getWeekFormaterTime:function(e){return Object(m["E"])(e,"dddd")},getTimeFormaterTime:function(e){return Object(m["E"])(e,"H:mm")}}},p=f,b=(n("b28c"),n("2877")),v=Object(b["a"])(p,c,u,!1,null,"56637f72",null),g=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"file-index"},[n("div",{staticClass:"file-index__header"},[e.detail?n("wk-file-select",{staticStyle:{display:"inline-block"},attrs:{multiple:""},on:{change:e.uploadFile}},[n("el-button",{attrs:{icon:"el-icon-plus",type:"primary"}},[e._v("上传材料附件")])],1):e._e()],1),e._v(" "),n("el-table",{attrs:{data:e.list,height:e.tableHeight,stripe:""},on:{"row-click":e.handleRowClick}},[e._l(e.fieldList,(function(e,t){return n("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label,"show-overflow-tooltip":""}})})),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("flexbox",[n("el-button",{attrs:{type:"text"},nativeOn:{click:function(n){e.handleFile("preview",t)}}},[e._v("预览")]),e._v(" "),n("el-button",{attrs:{type:"text"},nativeOn:{click:function(n){e.handleFile("download",t)}}},[e._v("下载")]),e._v(" "),n("el-button",{attrs:{type:"text"},nativeOn:{click:function(n){e.handleFile("edit",t)}}},[e._v("重命名")]),e._v(" "),n("el-button",{staticStyle:{color:"#f94e4e"},attrs:{type:"text"},nativeOn:{click:function(n){e.handleFile("delete",t)}}},[e._v("删除")])],1)]}}])})],2),e._v(" "),n("el-dialog",{attrs:{"append-to-body":!0,"close-on-click-modal":!1,visible:e.editDialog,title:"编辑",width:"400px"},on:{"update:visible":function(t){e.editDialog=t}}},[n("el-form",{attrs:{model:e.editForm}},[n("el-form-item",{attrs:{label:"新名称","label-width":"100"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.editForm.name,callback:function(t){e.$set(e.editForm,"name",t)},expression:"editForm.name"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.confirmEdit}},[e._v("确定")]),e._v(" "),n("el-button",{on:{click:function(t){e.editDialog=!1}}},[e._v("取消")])],1)],1)],1)},w=[],C=(n("d81d"),n("a434"),n("2934")),T=n("b5b9"),j=n("3f02"),_=n("7a1a"),F={name:"CandidateFile",components:{WkFileSelect:j["a"]},props:{id:[String,Number],detail:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,list:[],fieldList:[],tableHeight:"400px",editDialog:!1,editForm:{name:"",data:{}}}},computed:{},watch:{id:function(e){this.list=[],this.getDetail()}},created:function(){var e=this;this.fieldList.push({prop:"name",width:"200",label:"附件名称"}),this.getDetail(),this.debouncedGetDetail=Object(_["debounce"])(300,(function(){e.getDetail()}))},activated:function(){},deactivated:function(){},methods:{getDetail:function(){var e=this;this.loading=!0,Object(o["f"])(this.id).then((function(t){e.loading=!1,e.list=t.data.map((function(e){return e.size=Object(m["g"])(e.size),e}))})).catch((function(){e.loading=!1}))},uploadFile:function(e,t){for(var n=this,a=0;a<e.length;a++){var i=e[a];this.$wkUploadFile.upload({request:T["h"],file:i,params:{batchId:this.detail.batchId}}).then((function(e){n.debouncedGetDetail()})).catch((function(){}))}t.target.value=""},handleRowClick:function(e,t,n){},showPreviewBtn:function(e){return Object(m["a"])(e.row.name)},handleFile:function(e,t){var n=this;"preview"===e?Object(m["a"])(t.row.name)?Object(m["I"])(t.row.url,t.row.name):this.$wkPreviewFile.preview({index:t.$index,data:this.list}):"delete"===e?this.$confirm("您确定要删除该文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(T["b"])(t.row.fileId).then((function(e){n.list.splice(t.$index,1),n.$bus.emit("crm-tab-num-update"),n.$message.success("操作成功")})).catch((function(){}))})).catch((function(){})):"download"===e?Object(C["h"])(t.row.url).then((function(e){Object(m["f"])(e.data,t.row.name)})).catch((function(){})):(this.editForm.data=t,this.editForm.name=t.row.name,this.editDialog=!0)},confirmEdit:function(){var e=this;this.editForm.name&&Object(T["g"])({fileId:this.editForm.data.row.fileId,name:this.editForm.name}).then((function(t){e.$message.success("编辑成功"),e.editDialog=!1;var n=e.list[e.editForm.data.$index];n.name=e.editForm.name})).catch((function(){}))}}},k=F,A=(n("7725"),Object(b["a"])(k,y,w,!1,null,"1b986995",null)),O=A.exports,L=n("3f91"),I=n("6f11"),x=n("2f62"),S={name:"CandidateDetail",components:{SlideView:s["a"],WkDetailHeader:l["a"],WkBaseDetail:d["a"],CandidateHandle:g,CandidateFile:O,CandidateCreateView:L["a"]},props:{id:[String,Number],listenerIDs:{type:Array,default:function(){return["crm-main-container"]}},noListenerIDs:{type:Array,default:function(){return[]}},noListenerClass:{type:Array,default:function(){return["el-table__body","org-tree-node-label"]}}},data:function(){return{loading:!1,detailData:null,tabCurrentName:"baseInfo",dropdownItems:[{icon:"wk wk-edit",label:"编辑",command:"edit"}],isCreate:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(x["b"])(["hrm"])),{},{manageAuth:function(){return this.hrm.recruit&&this.hrm.recruit.manage},baseList:function(){if(this.detailData){for(var e=[],t=0;t<I["a"].fields.length;t++){var n=I["a"].fields[t],a={};a.label=n.name,a.value=this.fieldFormatter(this.detailData,n.field),e.push(a)}return e.push({label:"状态",value:this.fieldFormatter(this.detailData,"status")}),[{name:"",list:e}]}return[]},sexName:function(){return this.detailData?{1:"男",2:"女"}[this.detailData.sex]:""}}),watch:{id:function(){this.detailData=null,this.getDetial()}},mounted:function(){},beforeDestroy:function(){},methods:{viewAfterEnter:function(){this.getDetial()},getDetial:function(){var e=this;this.loading=!0,Object(o["d"])(this.id).then((function(t){e.detailData=t.data||{},e.loading=!1})).catch((function(){e.loading=!1,e.hideView()}))},fieldFormatter:function(e,t){var n=I["a"]["".concat(t,"Value")];return n?n[e[t]]||"--":"postId"==t?"".concat(e.postName||"").concat(0===e.postStatus?"（已停止招聘）":"")||"--":"channelId"==t?e.channelName||"--":e[t]||"--"},editClick:function(){this.isCreate=!0},editSuccess:function(){this.getDetial(),this.$emit("edit-success"),this.$emit("handle",{type:"edit"})},commandSelect:function(e){},hideView:function(){this.$emit("close")}}},D=S,R=(n("a43d"),Object(b["a"])(D,a,i,!1,null,"005f34d4",null));t["a"]=R.exports},cccc:function(e,t,n){"use strict";n.d(t,"p",(function(){return i})),n.d(t,"s",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"o",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"r",(function(){return d})),n.d(t,"q",(function(){return c})),n.d(t,"t",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"D",(function(){return b})),n.d(t,"F",(function(){return v})),n.d(t,"G",(function(){return g})),n.d(t,"E",(function(){return y})),n.d(t,"J",(function(){return w})),n.d(t,"K",(function(){return C})),n.d(t,"H",(function(){return T})),n.d(t,"I",(function(){return j})),n.d(t,"v",(function(){return _})),n.d(t,"w",(function(){return F})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return O})),n.d(t,"C",(function(){return L})),n.d(t,"c",(function(){return I})),n.d(t,"h",(function(){return x})),n.d(t,"N",(function(){return S})),n.d(t,"b",(function(){return D})),n.d(t,"B",(function(){return R})),n.d(t,"g",(function(){return E})),n.d(t,"M",(function(){return N})),n.d(t,"A",(function(){return P})),n.d(t,"f",(function(){return $})),n.d(t,"L",(function(){return q})),n.d(t,"a",(function(){return U})),n.d(t,"u",(function(){return H})),n.d(t,"e",(function(){return V})),n.d(t,"d",(function(){return z}));var a=n("b775");function i(e){return Object(a["a"])({url:"hrmConfig/queryRecruitChannelList",method:"post",data:e})}function r(e){return Object(a["a"])({url:"hrmConfig/saveRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(a["a"])({url:"hrmConfig/deleteRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(a["a"])({url:"hrmConfig/queryFields",method:"post",data:e})}function l(e){return Object(a["a"])({url:"hrmConfig/queryFieldByLabel/".concat(e),method:"post"})}function d(e){return Object(a["a"])({url:"hrmConfig/saveField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function c(e){return Object(a["a"])({url:"hrmConfig/queryRecruitEliminateList",method:"post",data:e})}function u(e){return Object(a["a"])({url:"hrmConfig/saveRecruitEliminate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(a["a"])({url:"hrmConfig/queryInsuranceSchemePageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(a["a"])({url:"hrmConfig/queryInsuranceSchemeById/".concat(e),method:"post"})}function f(e){return Object(a["a"])({url:"hrmConfig/addInsuranceScheme",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(a["a"])({url:"hrmConfig/deleteInsuranceScheme/".concat(e),method:"post"})}function b(e){return Object(a["a"])({url:"hrmSalaryGroup/addSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(a["a"])({url:"hrmSalaryGroup/querySalaryGroupPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(a["a"])({url:"hrmSalaryGroup/setSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(a["a"])({url:"hrmSalaryGroup/delete/".concat(e),method:"post"})}function w(e){return Object(a["a"])({url:"hrmSalaryTaxRule/queryTaxRuleList",method:"post",data:e})}function C(e){return Object(a["a"])({url:"hrmSalaryTaxRule/setTaxRule",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function T(e){return Object(a["a"])({url:"hrmSalaryOption/querySalaryOptionDetail",method:"post",data:e})}function j(e){return Object(a["a"])({url:"hrmSalaryOption/setSalaryOption",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function _(){return Object(a["a"])({url:"hrmEmployeeArchives/queryEmployeeArchivesField",method:"post"})}function F(e){return Object(a["a"])({url:"hrmEmployeeArchives/sendWriteArchives",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(e){return Object(a["a"])({url:"hrmEmployeeArchives/setEmployeeArchivesField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function A(e){return Object(a["a"])({url:"hrmEmployeeFieldManage/queryEmployeeManageField",method:"post",data:e})}function O(e){return Object(a["a"])({url:"hrmEmployeeFieldManage/setEmployeeManageField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(a["a"])({url:"hrmAttendanceShift/queryAttendanceShiftPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function I(e){return Object(a["a"])({url:"hrmAttendanceShift/".concat(e.shiftId?"setAttendanceShift":"addAttendanceShift"),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function x(e){return Object(a["a"])({url:"hrmAttendanceShift/delete/".concat(e.attendanceShiftId),method:"post",data:e})}function S(e){return Object(a["a"])({url:"hrmAttendanceShift/verifyAttendanceShiftName",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function D(e){return Object(a["a"])({url:"hrmAttendanceRule/".concat(e.attendanceRuleId?"setAttendanceRule":"addAttendanceRule"),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function R(e){return Object(a["a"])({url:"hrmAttendanceRule/queryAttendanceRulePageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function E(e){return Object(a["a"])({url:"hrmAttendanceRule/delete/".concat(e.attendanceRuleId),method:"post",data:e})}function N(e){return Object(a["a"])({url:"hrmAttendanceRule/verifyAttendanceRuleName",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function P(e){return Object(a["a"])({url:"hrmAttendanceGroup/queryAttendanceGroupPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function $(e){return Object(a["a"])({url:"hrmAttendanceGroup/delete/".concat(e.attendanceGroupId),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function q(e){return Object(a["a"])({url:"hrmAttendanceGroup/verifyAttendanceGroupName",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function U(e){return Object(a["a"])({url:"hrmAttendanceGroup/addAttendanceGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function H(e){return Object(a["a"])({url:"hrmAttendanceGroup/setAttendanceGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function V(e){return Object(a["a"])({url:"hrmAttendanceExamine/queryHrmAttendanceExamine",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function z(e){return Object(a["a"])({url:"hrmAttendanceExamine/add",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},d50a:function(e,t,n){},d931:function(e,t,n){}}]);