(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02f7557c"],{"01c5":function(e,t,n){},3726:function(e,t,n){"use strict";n("76e3")},"389a":function(e,t,n){"use strict";n("f0d6")},"3b7e":function(e,t,n){},"4c38":function(e,t,n){"use strict";n("3b7e")},"76e3":function(e,t,n){},"7a4c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"system-customer main"},[n("xr-header",{attrs:{label:"员工管理设置"}}),e._v(" "),n("div",{staticClass:"main-content-wrap"},[n("div",{staticClass:"main-nav"},[n("div",{staticClass:"main-nav__content"},[n("div",{staticClass:"nav-sections-wrap"},e._l(e.menuList,(function(t,a){return n("div",{key:a,staticClass:"menu-item",class:{"is-select":t.key==e.menuIndex},on:{click:function(n){e.menuSelect(t.key)}}},[e._v("\n            "+e._s(t.label)+"\n          ")])})))])]),e._v(" "),n("keep-alive",[n(e.menuIndex,{tag:"component",staticClass:"main-content"})],1)],1)],1)},i=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-body"},[n("div",{staticClass:"content-header"},[n("span",[e._v("员工档案设置")]),e._v(" "),n("span",[n("el-button",{on:{click:e.sendClick}},[e._v("邀请员工填写档案")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.saveClick}},[e._v("保存")])],1)]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-table",class:e.WKConfig.tableStyle.class,staticStyle:{width:"100%"},attrs:{data:e.list,stripe:e.WKConfig.tableStyle.stripe,height:e.tableHeight,"highlight-current-row":""}},[n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",width:"150",label:"信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isSection?n("span",{staticClass:"mark"}):e._e(),e._v(e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"isEmployeeVisible",label:"员工是否可见"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{"true-label":1,"false-label":0,indeterminate:t.row.visibleIndeterminate},on:{change:function(n){e.visibleChange(t.row)}},model:{value:t.row.isEmployeeVisible,callback:function(n){e.$set(t.row,"isEmployeeVisible",n)},expression:"scope.row.isEmployeeVisible"}})]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"isEmployeeUpdate",label:"员工是否可编辑"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-checkbox",{attrs:{"true-label":1,"false-label":0,disabled:2===t.row.isEmployeeUpdate,indeterminate:t.row.updateIndeterminate},on:{change:function(n){e.updateChange(t.row)}},model:{value:t.row.isEmployeeUpdate,callback:function(n){e.$set(t.row,"isEmployeeUpdate",n)},expression:"scope.row.isEmployeeUpdate"}})]}}])})],1),e._v(" "),e.depUserViewDialogShow?n("wk-dep-user-dialog",{attrs:{visible:e.depUserViewDialogShow,props:{showDisableUser:!1}},on:{"update:visible":function(t){e.depUserViewDialogShow=t},change:e.selectUserChange}}):e._e()],1)},s=[],r=(n("d3b7"),n("159b"),n("14d9"),n("99af"),n("cccc")),c=n("2581"),l={name:"EmployeeArchivesSet",components:{WkDepUserDialog:c["a"]},mixins:[],data:function(){return{loading:!1,tableHeight:document.documentElement.clientHeight-196,list:[],baseList:[],baseObj:{name:"基本信息",isSection:!0,labelGroup:1,isEmployeeVisible:1,isEmployeeUpdate:1,visibleIndeterminate:!1,updateIndeterminate:!1},communicationList:[],communicationObj:{name:"通讯信息",labelGroup:2,isSection:!0,isEmployeeVisible:1,isEmployeeUpdate:1,indeterminate:!1,updateIndeterminate:!1},depUserViewDialogShow:!1}},computed:{},mounted:function(){var e=this;window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-196},this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["v"])().then((function(t){var n=t.data||[],a=[],i=[];n.forEach((function(e){1===e.labelGroup?a.push(e):2===e.labelGroup&&i.push(e)})),e.communicationList=i,e.baseList=a;var o=[e.baseObj];a.forEach((function(e){o.push(e)})),o.push(e.communicationObj),i.forEach((function(e){o.push(e)})),e.list=o,e.changeAllStatus(),e.loading=!1})).catch((function(){e.loading=!1}))},changeAllStatus:function(){var e=this.changeStatus("isEmployeeVisible",this.baseList);this.baseObj.visibleIndeterminate=e.indeterminate,this.baseObj.isEmployeeVisible=e.check?1:0;var t=this.changeStatus("isEmployeeUpdate",this.baseList);this.baseObj.updateIndeterminate=t.indeterminate,this.baseObj.isEmployeeUpdate=t.check?1:0;var n=this.changeStatus("isEmployeeVisible",this.communicationList);this.communicationObj.visibleIndeterminate=n.indeterminate,this.communicationObj.isEmployeeVisible=n.check?1:0;var a=this.changeStatus("isEmployeeUpdate",this.communicationList);this.communicationObj.updateIndeterminate=a.indeterminate,this.communicationObj.isEmployeeUpdate=a.check?1:0},changeStatus:function(e,t){var n=0,a=0;return t.forEach((function(t){var i=t[e];2!==i&&(1===i?++n:++a)})),{check:0===a,indeterminate:n>0&&a>0}},sendClick:function(){this.depUserViewDialogShow=!0},selectUserChange:function(e,t){var n=this;e.length>0||t.length>0?(this.loading=!0,Object(r["w"])({deptIds:t,userIds:e}).then((function(e){n.$message.success("操作成功"),n.loading=!1})).catch((function(){n.loading=!1}))):this.$message.error("请选择")},visibleChange:function(e){if(e.isSection){var t=1===e.labelGroup?this.baseList:this.communicationList,n=1===e.isEmployeeVisible;t.forEach((function(t){2!==t.isEmployeeVisible&&(t.isEmployeeVisible=e.isEmployeeVisible,2!==t.isEmployeeUpdate&&(n||(t.isEmployeeUpdate=0)))}))}else 0===e.isEmployeeVisible&&2!==e.isEmployeeUpdate&&(e.isEmployeeUpdate=0);this.changeAllStatus()},updateChange:function(e){if(e.isSection){var t=1===e.labelGroup?this.baseList:this.communicationList,n=1===e.isEmployeeUpdate;t.forEach((function(t){2!==t.isEmployeeUpdate&&(t.isEmployeeUpdate=e.isEmployeeUpdate,n&&(t.isEmployeeVisible=1))}))}else 1===e.isEmployeeUpdate&&(e.isEmployeeVisible=1);this.changeAllStatus()},saveClick:function(){var e=this;this.loading=!0,Object(r["x"])(this.baseList.concat(this.communicationList)).then((function(t){e.$message.success("操作成功"),e.getList(),e.loading=!1})).catch((function(){e.loading=!1}))}}},u=l,d=(n("d2e1"),n("2877")),p=Object(d["a"])(u,o,s,!1,null,"50fbdd51",null),h=p.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isSet?n("employee-fields-set",{attrs:{"entry-status":e.entryStatus},on:{back:e.backMain}}):n("div",[n("div",{staticClass:"content-header"},[n("span",[e._v("新建员工字段设置")])]),e._v(" "),n("div",{staticClass:"content-body"},[n("div",{staticClass:"card-wrap"},[n("el-card",[n("i",{staticClass:"wk wk-s-contacts-line",staticStyle:{padding:"2px","font-size":"26px"}}),e._v(" "),n("div",{staticClass:"body-content"},[n("div",[e._v("新建在职员工")]),e._v(" "),n("div",{staticClass:"des"},[e._v("设置【新建在职员工】时可填写的员工信息字段")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.enterSet(1)}}},[e._v("编辑")])],1)]),e._v(" "),n("el-card",[n("i",{staticClass:"wk wk-allow-me"}),e._v(" "),n("div",{staticClass:"body-content"},[n("div",[e._v("新建待入职员工")]),e._v(" "),n("div",{staticClass:"des"},[e._v("设置【新建待入职员工】时可填写的员工信息字段")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.enterSet(2)}}},[e._v("编辑")])],1)])],1)])])},b=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-body"},[n("div",{staticClass:"content-header"},[n("span",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),n("span",[n("el-button",{on:{click:e.backClick}},[e._v("返回")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.saveClick}},[e._v("保存")])],1)]),e._v(" "),n("el-tabs",{staticClass:"el-fields-tabs",on:{"tab-click":e.tabsClick},model:{value:e.labelTab,callback:function(t){e.labelTab=t},expression:"labelTab"}},e._l(e.tabList,(function(t,a){return n("el-tab-pane",{key:a,attrs:{label:t.label,name:t.name,lazy:""}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-table",class:e.WKConfig.tableStyle.class,staticStyle:{width:"100%"},attrs:{data:e.tabListObj[e.labelTab]||[],stripe:e.WKConfig.tableStyle.stripe,height:e.tableHeight,"highlight-current-row":""}},[n("el-table-column",{attrs:{"show-overflow-tooltip":"",prop:"name",width:"150",label:"信息"}}),e._v(" "),n("el-table-column",{attrs:{prop:"isManageVisible",label:"员工是否可见"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[2===a.isManageVisible||3===a.isManageVisible?n("el-checkbox",{attrs:{"true-label":3,"false-label":2,disabled:""},model:{value:a.isManageVisible,callback:function(t){e.$set(a,"isManageVisible",t)},expression:"row.isManageVisible"}}):n("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:a.isManageVisible,callback:function(t){e.$set(a,"isManageVisible",t)},expression:"row.isManageVisible"}})]}}])})],1)],1)})))],1)},y=[],v=n("2909"),g=(n("a9e3"),{name:"EmployeeFieldsSet",components:{},mixins:[],props:{entryStatus:[Number,String]},data:function(){return{loading:!1,tableHeight:document.documentElement.clientHeight-280,labelTab:"1",tabList:[{name:"1",label:"个人信息"},{name:"2",label:"岗位信息"}],tabListObj:{}}},computed:{title:function(){return 1==this.entryStatus?"新建在职员工":2==this.entryStatus?"新建待入职员工":""}},mounted:function(){var e=this;window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-280},this.getList()},methods:{tabsClick:function(){this.getList()},getList:function(){var e=this,t=this.tabListObj[this.labelTab];t||(this.loading=!0,Object(r["y"])({entryStatus:this.entryStatus,label:this.labelTab}).then((function(t){e.$set(e.tabListObj,e.labelTab,t.data||[]),e.loading=!1})).catch((function(){e.loading=!1})))},saveClick:function(){var e=this;this.loading=!0;var t=[];for(var n in this.tabListObj){var a=this.tabListObj[n];a&&a.length>0&&(t=[].concat(Object(v["a"])(t),Object(v["a"])(a)))}Object(r["z"])(t).then((function(t){e.$message.success("操作成功"),e.tabListObj={},e.getList(),e.loading=!1})).catch((function(){e.loading=!1}))},backClick:function(){var e=this.$route.query.redirect;e?this.$router.push(e):this.$emit("back")}}}),j=g,C=(n("389a"),n("4c38"),Object(d["a"])(j,f,y,!1,null,"7f275da5",null)),S=C.exports,E={name:"EmployeeFields",components:{EmployeeFieldsSet:S},data:function(){return{loading:!1,list:[],isSet:!1,entryStatus:1}},computed:{},created:function(){var e=this.$route.query.entryStatus;e&&this.enterSet(e)},methods:{enterSet:function(e){this.entryStatus=e,this.isSet=!0},backMain:function(){this.isSet=!1}}},O=E,T=(n("c84f"),Object(d["a"])(O,m,b,!1,null,"00aa6026",null)),k=T.exports,w=n("f468"),U={name:"EmployeeManage",components:{EmployeeArchives:h,EmployeeFields:k,XrHeader:w["a"]},data:function(){return{menuList:[{label:"新建员工字段设置",key:"EmployeeFields"},{label:"员工档案设置",key:"EmployeeArchives"}],menuIndex:"EmployeeFields"}},computed:{},created:function(){var e=this.$route.query.menuIndex;e&&(this.menuIndex=e)},methods:{menuSelect:function(e){this.menuIndex=e}}},_=U,F=(n("3726"),Object(d["a"])(_,a,i,!1,null,"78ef1aca",null));t["default"]=F.exports},"9cae":function(e,t,n){},c84f:function(e,t,n){"use strict";n("01c5")},cccc:function(e,t,n){"use strict";n.d(t,"p",(function(){return i})),n.d(t,"s",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"o",(function(){return r})),n.d(t,"n",(function(){return c})),n.d(t,"r",(function(){return l})),n.d(t,"q",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return b})),n.d(t,"D",(function(){return f})),n.d(t,"F",(function(){return y})),n.d(t,"G",(function(){return v})),n.d(t,"E",(function(){return g})),n.d(t,"J",(function(){return j})),n.d(t,"K",(function(){return C})),n.d(t,"H",(function(){return S})),n.d(t,"I",(function(){return E})),n.d(t,"v",(function(){return O})),n.d(t,"w",(function(){return T})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return w})),n.d(t,"z",(function(){return U})),n.d(t,"C",(function(){return _})),n.d(t,"c",(function(){return F})),n.d(t,"h",(function(){return L})),n.d(t,"N",(function(){return A})),n.d(t,"b",(function(){return x})),n.d(t,"B",(function(){return V})),n.d(t,"g",(function(){return I})),n.d(t,"M",(function(){return G})),n.d(t,"A",(function(){return q})),n.d(t,"f",(function(){return R})),n.d(t,"L",(function(){return $})),n.d(t,"a",(function(){return M})),n.d(t,"u",(function(){return H})),n.d(t,"e",(function(){return D})),n.d(t,"d",(function(){return z}));var a=n("b775");function i(e){return Object(a["a"])({url:"hrmConfig/queryRecruitChannelList",method:"post",data:e})}function o(e){return Object(a["a"])({url:"hrmConfig/saveRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(a["a"])({url:"hrmConfig/deleteRecruitChannel",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(a["a"])({url:"hrmConfig/queryFields",method:"post",data:e})}function c(e){return Object(a["a"])({url:"hrmConfig/queryFieldByLabel/".concat(e),method:"post"})}function l(e){return Object(a["a"])({url:"hrmConfig/saveField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(a["a"])({url:"hrmConfig/queryRecruitEliminateList",method:"post",data:e})}function d(e){return Object(a["a"])({url:"hrmConfig/saveRecruitEliminate",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function p(e){return Object(a["a"])({url:"hrmConfig/queryInsuranceSchemePageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(a["a"])({url:"hrmConfig/queryInsuranceSchemeById/".concat(e),method:"post"})}function m(e){return Object(a["a"])({url:"hrmConfig/addInsuranceScheme",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(a["a"])({url:"hrmConfig/deleteInsuranceScheme/".concat(e),method:"post"})}function f(e){return Object(a["a"])({url:"hrmSalaryGroup/addSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(a["a"])({url:"hrmSalaryGroup/querySalaryGroupPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function v(e){return Object(a["a"])({url:"hrmSalaryGroup/setSalaryGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function g(e){return Object(a["a"])({url:"hrmSalaryGroup/delete/".concat(e),method:"post"})}function j(e){return Object(a["a"])({url:"hrmSalaryTaxRule/queryTaxRuleList",method:"post",data:e})}function C(e){return Object(a["a"])({url:"hrmSalaryTaxRule/setTaxRule",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function S(e){return Object(a["a"])({url:"hrmSalaryOption/querySalaryOptionDetail",method:"post",data:e})}function E(e){return Object(a["a"])({url:"hrmSalaryOption/setSalaryOption",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function O(){return Object(a["a"])({url:"hrmEmployeeArchives/queryEmployeeArchivesField",method:"post"})}function T(e){return Object(a["a"])({url:"hrmEmployeeArchives/sendWriteArchives",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function k(e){return Object(a["a"])({url:"hrmEmployeeArchives/setEmployeeArchivesField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function w(e){return Object(a["a"])({url:"hrmEmployeeFieldManage/queryEmployeeManageField",method:"post",data:e})}function U(e){return Object(a["a"])({url:"hrmEmployeeFieldManage/setEmployeeManageField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function _(e){return Object(a["a"])({url:"hrmAttendanceShift/queryAttendanceShiftPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function F(e){return Object(a["a"])({url:"hrmAttendanceShift/".concat(e.shiftId?"setAttendanceShift":"addAttendanceShift"),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(a["a"])({url:"hrmAttendanceShift/delete/".concat(e.attendanceShiftId),method:"post",data:e})}function A(e){return Object(a["a"])({url:"hrmAttendanceShift/verifyAttendanceShiftName",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function x(e){return Object(a["a"])({url:"hrmAttendanceRule/".concat(e.attendanceRuleId?"setAttendanceRule":"addAttendanceRule"),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function V(e){return Object(a["a"])({url:"hrmAttendanceRule/queryAttendanceRulePageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function I(e){return Object(a["a"])({url:"hrmAttendanceRule/delete/".concat(e.attendanceRuleId),method:"post",data:e})}function G(e){return Object(a["a"])({url:"hrmAttendanceRule/verifyAttendanceRuleName",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function q(e){return Object(a["a"])({url:"hrmAttendanceGroup/queryAttendanceGroupPageList",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function R(e){return Object(a["a"])({url:"hrmAttendanceGroup/delete/".concat(e.attendanceGroupId),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function $(e){return Object(a["a"])({url:"hrmAttendanceGroup/verifyAttendanceGroupName",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function M(e){return Object(a["a"])({url:"hrmAttendanceGroup/addAttendanceGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function H(e){return Object(a["a"])({url:"hrmAttendanceGroup/setAttendanceGroup",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function D(e){return Object(a["a"])({url:"hrmAttendanceExamine/queryHrmAttendanceExamine",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function z(e){return Object(a["a"])({url:"hrmAttendanceExamine/add",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},d2e1:function(e,t,n){"use strict";n("9cae")},f0d6:function(e,t,n){e.exports={colorPrimary:"#0052cc",colorBlack:"#172b4d",colorSuccess:"#36b37e",colorWarning:"#ffab00",colorDanger:"#ff5630",colorN40:"#dfe1e6",axisLineColor:"#dfe1e6",axisLabelFontWeight:"500"}}}]);