(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3eeb2b6e"],{"00ec":function(t,e,a){},"0be0":function(t,e,a){"use strict";a("3e52")},"194d":function(t,e,a){},"1c30":function(t,e,a){"use strict";a("ac16")},"1d787":function(t,e,a){"use strict";a("4d01")},2336:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return l})),a.d(e,"e",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return r}));var i=a("b775");function n(){return Object(i["a"])({url:"hrmSalaryConfig/queryInItConfig",method:"post"})}function l(t){return Object(i["a"])({url:"hrmSalaryConfig/saveInitConfig",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(t){return Object(i["a"])({url:"/hrmSalaryConfig/updateInitStatus/".concat(t),method:"post"})}function o(){return Object(i["a"])({url:"/hrmSalaryConfig/querySalaryConfig",method:"post"})}function r(t){return Object(i["a"])({url:"hrmSalaryConfig/updateSalaryConfig",method:"post",data:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})}},2438:function(t,e,a){},"32e7":function(t,e,a){"use strict";a("194d")},"3e52":function(t,e,a){},"3e9a":function(t,e,a){"use strict";a("2438")},"4c08":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"opacity-fade"}},[a("div",{staticClass:"wk-steps-explain-view",style:{"z-index":t.zIndex}},[a("div",{staticClass:"label"},[t._v(t._s(t.title))]),t._v(" "),a("wk-steps",t._l(t.steps,(function(e,i){return a("wk-step",{key:i,attrs:{icon:e.icon,label:e.label,"des-left":e.desLeft,"des-center":e.desCenter,"des-right":e.desRight,button:e.button},on:{"step-click":function(a){t.stepClick(a,i,e)}}})})))],1)])},n=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("flexbox",{staticClass:"wk-steps",attrs:{align:"stretch"}},[t._t("default")],2)},s=[],o={name:"WkSteps",components:{},props:{},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{}},r=o,c=(a("70cc"),a("2877")),d=Object(c["a"])(r,l,s,!1,null,"9cf6a7de",null),u=d.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wk-step"},[a("flexbox",[a("div",{staticClass:"wk-step__line is-left"}),t._v(" "),a("img",{staticClass:"wk-step__icon",attrs:{src:t.icon}}),t._v(" "),a("div",{staticClass:"wk-step__line is-right"})]),t._v(" "),t.label?a("div",{staticClass:"wk-step__label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),a("div",{staticClass:"wk-step__des"},[t.desLeft?a("span",[t._v(t._s(t.desLeft))]):t._e(),t._v(" "),t.desCenter?a("el-button",{attrs:{type:"link"},on:{click:t.desClick}},[t._v(t._s(t.desCenter))]):t._e(),t._v(" "),t.desRight?a("span",[t._v(t._s(t.desRight))]):t._e()],1),t._v(" "),a("div",{staticClass:"wk-step__btn"},[t.button?a("el-button",{attrs:{type:"link"},on:{click:t.bottomClick}},[t._v(t._s(t.button))]):t._e()],1)],1)},h=[],m={name:"WkStep",components:{},props:{icon:String,label:String,desLeft:String,desCenter:String,desRight:String,button:String},data:function(){return{}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{desClick:function(){this.$emit("step-click","des")},bottomClick:function(){this.$emit("step-click","button")}}},p=m,g=(a("3e9a"),Object(c["a"])(p,f,h,!1,null,"7a9bf017",null)),b=g.exports,v=a("ed08"),y={name:"WkStepsExplainView",components:{WkSteps:u,WkStep:b},props:{title:String,steps:Array},data:function(){return{zIndex:Object(v["p"])()}},computed:{},watch:{},mounted:function(){},beforeDestroy:function(){},methods:{stepClick:function(t,e,a){this.$emit("step-click",t,e,a)}}},w=y,k=(a("6b3e"),Object(c["a"])(w,i,n,!1,null,"b7b18744",null));e["a"]=k.exports},"4d01":function(t,e,a){},"4de9":function(t,e,a){},5140:function(t,e,a){"use strict";a("00ec")},6308:function(t,e,a){"use strict";a("97ec")},"639f":function(t,e,a){t.exports=a.p+"static/img/people.9b280f8f.png"},"662c":function(t,e,a){"use strict";a("d71d")},"6b3e":function(t,e,a){"use strict";a("4de9")},"70cc":function(t,e,a){"use strict";a("7b40")},"7b40":function(t,e,a){},"8b13":function(t,e,a){"use strict";a.d(e,"c",(function(){return h})),a.d(e,"g",(function(){return b})),a.d(e,"a",(function(){return w})),a.d(e,"f",(function(){return S})),a.d(e,"d",(function(){return $})),a.d(e,"e",(function(){return z})),a.d(e,"b",(function(){return H}));a("b64b"),a("d81d"),a("d9e2"),a("14d9"),a("99af");var i=a("ed08"),n=a("6bfe"),l=a("7078"),s=a("0f4c");function o(t){var e=Object.keys(t);return e.map((function(e){return{label:t[e],value:parseInt(e)}}))}var r=[{name:"学历",field:"education",formType:"select",setting:[{label:"小学",value:1},{label:"初中",value:2},{label:"中专",value:3},{label:"中职",value:4},{label:"中技",value:5},{label:"高中",value:6},{label:"大专",value:7},{label:"本科",value:8},{label:"硕士",value:9},{label:"博士",value:10},{label:"博士后",value:11},{label:"其他",value:12}]},{name:"毕业院校",field:"graduateSchool",formType:"text",setting:[]},{name:"专业",field:"major",formType:"text",setting:[]},{name:"入学时间",field:"admissionTime",formType:"date",setting:[]},{name:"毕业时间",field:"graduationTime",formType:"date",setting:[]},{name:"教学方式",field:"teachingMethods",formType:"select",setting:[{label:"全日制",value:1},{label:"成人教育",value:2},{label:"远程教育",value:3},{label:"自学考试",value:4},{label:"其他",value:5}]},{name:"是否第一学历",field:"isFirstDegree",formType:"radio",setting:[{label:"否",value:0},{label:"是",value:1}]}],c={1:"小学",2:"初中",3:"中专",4:"中职",5:"中技",6:"高中",7:"大专",8:"本科",9:"硕士",10:"博士",11:"博士后",12:"其他"},d={1:"全日制",2:"成人教育",3:"远程教育",4:"自学考试",5:"其他"},u={1:"是",0:"否"},f={education:[{required:!0,message:"请选择",trigger:["blur","change"]}],graduateSchool:[{required:!0,message:"请输入",trigger:["blur","change"]}],major:[{required:!0,message:"请输入",trigger:["blur","change"]}],isFirstDegree:[{required:!0,message:"请选择",trigger:["blur","change"]}]},h={fields:r,rules:f,educationValue:c,teachingMethodsValue:d,isFirstDegreeValue:u},m=[{name:"工作单位",field:"workUnit",formType:"text",setting:[]},{name:"职务",field:"post",formType:"text",setting:[]},{name:"工作开始时间",field:"workStartTime",formType:"date",setting:[]},{name:"工作结束时间",field:"workEndTime",formType:"date",setting:[]},{name:"离职原因",field:"leavingReason",formType:"text",setting:[]},{name:"证明人",field:"witness",formType:"text",setting:[]},{name:"证明人电话",field:"witnessPhone",formType:"mobile",setting:[]},{name:"工作备注",field:"workRemarks",formType:"text",setting:[]}],p=function(t,e,a){Object(n["c"])(e)||Object(i["B"])(e)?a():a(new Error("手机格式有误"))},g={workUnit:[{required:!0,message:"请输入",trigger:["blur","change"]}],post:[{required:!0,message:"请输入",trigger:["blur","change"]}],witnessPhone:[{validator:p,trigger:["blur","change"]}]},b={fields:m,rules:g},v=[{name:"证书名称",field:"certificateName",formType:"text",setting:[]},{name:"证书级别",field:"certificateLevel",formType:"text",setting:[]},{name:"证书/证件编号",field:"certificateNum",formType:"text",setting:[]},{name:"有效期起始日期",field:"startTime",formType:"date",setting:[]},{name:"有效期到期日",field:"endTime",formType:"date",setting:[]},{name:"发证机构",field:"issuingAuthority",formType:"text",setting:[]},{name:"发证日期",field:"issuingTime",formType:"date",setting:[]},{name:"证件备注",field:"remarks",formType:"text",setting:[]}],y={certificateName:[{required:!0,message:"请输入",trigger:["blur","change"]}]},w={fields:v,rules:y},k=[{name:"培训课程",field:"trainingCourse",formType:"text",setting:[]},{name:"培训机构名称",field:"trainingOrganName",formType:"text",setting:[]},{name:"培训开始时间",field:"startTime",formType:"date",setting:[]},{name:"培训结束时间",field:"endTime",formType:"date",setting:[]},{name:"培训时长",field:"trainingDuration",formType:"number",setting:[]},{name:"培训成绩",field:"trainingResults",formType:"text",setting:[]},{name:"培训证书名称",field:"trainingCertificateName",formType:"text",setting:[]},{name:"培训备注",field:"remarks",formType:"textarea",setting:[]}],_={trainingCourse:[{required:!0,message:"请输入",trigger:["blur","change"]}]},S={fields:k,rules:_},C={1:"男",2:"女"},x={1:"阳历",2:"农历"},D=[{label:"男",value:1},{label:"女",value:2}],T={1:"身份证",2:"港澳通行证",3:"台湾通行证",4:"护照",5:"其他"},F=[{label:"身份证",value:1},{label:"港澳通行证",value:2},{label:"台湾通行证",value:3},{label:"护照",value:4},{label:"其他",value:5}],L={1:"正式",2:"非正式"},O=[{label:"正式",value:1},{label:"非正式",value:2}],j={0:"无试用期",1:"1个月",2:"2个月",3:"3个月",4:"4个月",5:"5个月",6:"6个月"},E=[{label:"无试用期",value:0},{label:"1个月",value:1},{label:"2个月",value:2},{label:"3个月",value:3},{label:"4个月",value:4},{label:"5个月",value:5},{label:"6个月",value:6}],N=[{label:"实习",value:3},{label:"兼职",value:4},{label:"劳务",value:5},{label:"顾问",value:6},{label:"返聘",value:7},{label:"外包",value:8}],A={1:"正式",2:"试用",3:"实习",4:"兼职",5:"劳务",6:"顾问",7:"返聘",8:"外包",11:"在职",12:"全职",13:"待入职",14:"待离职",15:"已离职"},I={1:"正式",2:"试用",3:"实习",4:"兼职",5:"劳务",6:"顾问",7:"返聘",8:"外包"},$={sexValue:C,birthdayTypeValue:x,idTypeValue:T,employmentFormsValue:L,probationValue:j,statusValue:A,validStatusValue:I,getValueList:o,sexSetting:D,idTypeSetting:F,employmentFormsSetting:O,probationSetting:E,statusSetting:N},P=[{name:"部门",field:"newDept",formType:"structure",props:{dataType:"hrm"},request:s["e"],setting:[]},{name:"岗位",field:"newPost",formType:"text",setting:[]},{name:"直属上级",field:"newParentId",formType:"user",props:{label:"employeeName",value:"employeeId",isList:!0},request:l["F"],setting:[]},{name:"计划转正日期",field:"becomeTime",formType:"text",disabled:!0,setting:[]},{name:"实际转正日期",field:"effectTime",formType:"date",setting:[]},{name:"备注",field:"remarks",formType:"textarea",setting:[]}],M={effectTime:[{required:!0,message:"请选择",trigger:["blur","change"]}]},z={fields:P,rules:M};function B(t,e){var a=[{label:"调岗",value:5},{label:"晋升",value:6},{label:"降级",value:7}];3!=e&&4!=e||a.push({label:"转为全职员工",value:8});var i=[];i=7==t?[{label:"违规违纪",value:4},{label:"绩效不达标",value:5},{label:"个人身体原因",value:6},{label:"不适应当前岗位",value:7}]:[{label:"组织架构调整",value:1},{label:"个人申请",value:2},{label:"工作安排",value:3}];var n=[{name:"异动类型",field:"changeType",formType:"select",setting:a},{name:"异动原因",field:"changeReason",formType:"select",setting:i}];return 8==t&&(n=n.concat([{name:"入职日期",field:"entryTime",formType:"date",disabled:!0,setting:[]},{name:"试用期",field:"probation",formType:"select",setting:[{label:"无试用期",value:0},{label:"1个月",value:1},{label:"2个月",value:2},{label:"3个月",value:3},{label:"4个月",value:4},{label:"5个月",value:5},{label:"6个月",value:6}]}])),n.concat([{name:"原部门",field:"oldDept",formType:"structure",disabled:!0,props:{dataType:"hrm"},request:s["e"],setting:[]},{name:"变更为",field:"newDept",formType:"structure",props:{dataType:"hrm"},request:s["e"],setting:[]},{name:"原岗位",field:"oldPost",formType:"text",disabled:!0,setting:[]},{name:"变更为",field:"newPost",formType:"text",setting:[]},{name:"原岗位职级",field:"oldPostLevel",disabled:!0,formType:"text",setting:[]},{name:"变更为",field:"newPostLevel",formType:"text",setting:[]},{name:"原工作地点",field:"oldWorkAddress",formType:"text",disabled:!0,setting:[]},{name:"变更为",field:"newWorkAddress",formType:"text",setting:[]},{name:"生效日期",field:"effectTime",formType:"date",setting:[]},{name:"备注",field:"remarks",formType:"textarea",setting:[]}])}var R={effectTime:[{required:!0,message:"请选择",trigger:["blur","change"]}]},H={fieldsFunc:B,rules:R}},"97ec":function(t,e,a){},9931:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"salary-index",attrs:{id:"employee-main-container"}},[t.listShow?[t.noNum>0?a("reminder",{attrs:{content:"有"+t.noNum+"名员工未在任何薪资组中，无法参与工资表核算工资","close-show":""},on:{close:t.noEmployeesCloseClick}},[a("el-button",{staticStyle:{padding:"0","margin-left":"8px"},attrs:{type:"primary-text"},on:{click:t.checkNoEmployeesClick}},[t._v("查看无薪资组员工")])],1):t._e(),t._v(" "),a("xr-header",{attrs:{"ft-top":"0",label:"薪资管理"}},[a("template",{slot:"label"},[t._v("\n        薪资管理\n        "),a("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":"33","data-id":"291"}}),t._v(" "),t.startEndTimeValue?a("span",{staticClass:"time-label"},[t._v("（"+t._s(t.startEndTimeValue)+"）")]):t._e()]),t._v(" "),a("template",{slot:"ft"},[t.hasFilterContent?a("el-button",{attrs:{type:"text"},on:{click:t.resetFilter}},[t._v("清除筛选")]):t._e(),t._v(" "),a("wk-popover-filter",{staticStyle:{"margin-right":"5px"},attrs:{width:t.popoverFilterWidth,"field-from":t.filterObj,"field-list":t.filterList,"has-content":t.hasFilterContent,placement:"bottom"},on:{"update:fieldFrom":function(e){t.filterObj=e},sure:t.refreshList,reset:t.resetFilter}})],1),t._v(" "),a("template",{slot:"ft"},[t.lastData?[t.checkSubmitShow&&t.manageAuth?a("el-button",{on:{click:function(e){t.checkClick("submit")}}},[t._v("提交审核")]):t._e(),t._v(" "),t.checkProgressShow&&t.manageAuth?a("el-button",{attrs:{type:"text"},on:{click:function(e){t.checkClick("progress")}}},[t._v("查看审核进度")]):t._e(),t._v(" "),t.computedShow&&t.manageAuth?a("el-button",{attrs:{type:"primary"},on:{click:t.computeClick}},[t._v("核算工资")]):t._e(),t._v(" "),t.createShow&&t.sendAuth?a("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.createSlipClick}},[t._v("发送工资条")]):t._e(),t._v(" "),t.createShow&&t.manageAuth?a("el-button",{attrs:{icon:"el-icon-plus"},on:{click:t.createClick}},[t._v("创建下月工资表")]):t._e(),t._v(" "),t.manageAuth?a("el-button",{on:{click:t.deleteClick}},[t._v("删除工资表")]):t._e()]:t._e()],2)],2),t._v(" "),a("div",{staticClass:"crm-container"},[t.tabShow?a("xr-table-header",[a("el-tabs",{staticStyle:{width:"100%","margin-bottom":"-8px"},on:{"tab-click":t.tabClick},model:{value:t.tabType,callback:function(e){t.tabType=e},expression:"tabType"}},t._l(t.tabList,(function(e){return a("el-tab-pane",{key:e.name,attrs:{name:e.name}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v(t._s(e.label)),e.num>0?a("span",{staticClass:"tab-pane-num",staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.num))]):t._e()])])}))),t._v(" "),t.onlineEditShow&&t.manageAuth?a("el-button",{attrs:{type:"primary"},on:{click:t.editClick}},[t._v("在线编辑")]):t._e()],1):t._e(),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"n-table--border el-table-header--white",class:t.WKConfig.tableStyle.class,staticStyle:{width:"100%"},attrs:{id:"crm-table","row-height":40,data:t.list,height:t.tableHeight,"summary-method":t.getSummaries,stripe:t.WKConfig.tableStyle.stripe,"show-summary":"","use-virtual":"","highlight-current-row":""}},[t._l(t.fieldList,(function(e,i){return a("el-table-column",{key:i,attrs:{fixed:0==i,prop:e.field,label:e.name,"min-width":e.width,formatter:t.fieldFormatter,"show-overflow-tooltip":""}})})),t._v(" "),a("el-table-column")],2),t._v(" "),a("div",{staticClass:"p-contianer"},[a("el-pagination",{staticClass:"p-bar",attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,total:t.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:pageSize":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]:t._e(),t._v(" "),t.stepsExplainShow?a("wk-steps-explain-view",{attrs:{title:t.explainTitle,steps:t.explainSteps},on:{"step-click":t.stepClick}}):t._e(),t._v(" "),a("open-set-dialog",{attrs:{detail:t.initDataConfig,visible:t.openDialogShow},on:{"update:visible":function(e){t.openDialogShow=e},change:t.openSetChange}}),t._v(" "),a("month-set-dialog",{attrs:{detail:t.openData,visible:t.monthDialogShow},on:{"update:visible":function(e){t.monthDialogShow=e},change:t.monthSetChange}}),t._v(" "),a("compute-set-dialog",{attrs:{"last-data":t.lastData,visible:t.computeDialogShow},on:{"update:visible":function(e){t.computeDialogShow=e},change:t.refreshPageData}}),t._v(" "),t.editViewShow?a("batch-edit-view",{attrs:{"field-list":t.fieldList,params:t.postParams},on:{close:function(e){t.editViewShow=!1},change:t.refreshList}}):t._e(),t._v(" "),a("examine-submit-dialog",{ref:"examineSubmitDialog",attrs:{data:t.examineData,"is-edit":t.lastData&&(2==t.lastData.checkStatus||13==t.lastData.checkStatus),visible:t.examineSubDialogShow,"examine-advanced-setting":t.examineAdvancedSetting},on:{"update:visible":function(e){t.examineSubDialogShow=e},save:t.examineSubmitClick}}),t._v(" "),a("examine-progress-dialog",{attrs:{detail:t.lastData,visible:t.examineProDialogShow},on:{"update:visible":function(e){t.examineProDialogShow=e},change:t.examineProgressChange}}),t._v(" "),a("no-employee-dialog",{attrs:{visible:t.noEmployeeDialogShow},on:{"update:visible":function(e){t.noEmployeeDialogShow=e}}}),t._v(" "),a("salary-slip-create",{attrs:{visible:t.slipCreatShow},on:{"update:visible":function(e){t.slipCreatShow=e}}})],2)},n=[],l=a("5530"),s=(a("b64b"),a("99af"),a("14d9"),a("d81d"),a("d3b7"),a("25f0"),a("b0c0"),a("159b"),a("fa12")),o=a("2336"),r=a("0f4c"),c=a("f468"),d=a("8e93"),u=a("9011"),f=a("4c08"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{ref:"wkDialog",attrs:{visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,title:t.title,"show-close":!1,width:"500px"}},[a("div",{staticClass:"form-add-dialog-body"},[a("el-form",{ref:"monthForm",attrs:{model:t.form,rules:t.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"起始月份",prop:"salaryStartMonth"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"month",format:"yyyy-MM","value-format":"yyyy-MM",placeholder:"选择日期"},model:{value:t.form.salaryStartMonth,callback:function(e){t.$set(t.form,"salaryStartMonth",e)},expression:"form.salaryStartMonth"}})],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[t._v("保存")]),t._v(" "),a("el-button",{nativeOn:{click:function(e){return t.handleCancel(e)}}},[t._v("取消")])],1)])},m=[],p=a("9dba"),g={name:"MonthSetDialog",components:{},mixins:[p["a"]],props:{detail:Object,visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,title:"设置薪酬起始月份",rules:{salaryStartMonth:[{required:!0,message:"请选择",trigger:"blur"}]},form:{}}},computed:{},watch:{visible:{handler:function(t){t&&(this.form={salaryStartMonth:""})},immediate:!0}},mounted:function(){},methods:{handleCancel:function(){this.$router.go(-1),this.close()},close:function(){this.$emit("update:visible",!1)},handleConfirm:function(){var t=this;this.$refs.monthForm.validate((function(e){e&&(t.loading=!0,Object(o["c"])(t.form).then((function(e){t.$message.success("操作成功");var a=t.form.salaryStartMonth.split("-");t.$emit("change",a[0],a[1]),t.close(),t.loading=!1})).catch((function(){t.loading=!1})))}))}}},b=g,v=(a("6308"),a("2877")),y=Object(v["a"])(b,h,m,!1,null,"5e38ceca",null),w=y.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{ref:"wkDialog",attrs:{visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,title:t.title,"show-close":!1,width:"500px"}},[a("div",{staticClass:"form-add-dialog-body"},[a("reminder",{staticStyle:{"margin-bottom":"10px"},attrs:{content:"计薪周期设置后将不可修改"}}),t._v(" "),a("el-form",{ref:"openForm",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"计薪周期"}},[a("span",[t._v("当月")]),t._v(" "),a("el-select",{model:{value:t.form.salaryCycleStartDay,callback:function(e){t.$set(t.form,"salaryCycleStartDay",e)},expression:"form.salaryCycleStartDay"}},t._l(t.cycleOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}))),t._v(" "),a("span",[t._v(t._s(t.getSalaryCycleEndDayDes()))]),t._v(" "),a("el-tooltip",{attrs:{content:"计薪周期设定后将不可修改",effect:"dark",placement:"top"}},[a("i",{staticClass:"wk wk-help wk-help-tips"})])],1),t._v(" "),a("el-form-item",{attrs:{label:"对应社保自然月"}},[a("el-select",{staticStyle:{"margin-left":"0"},model:{value:t.form.socialSecurityMonthType,callback:function(e){t.$set(t.form,"socialSecurityMonthType",e)},expression:"form.socialSecurityMonthType"}},t._l(t.monthTypeOptions,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))),t._v(" "),a("el-tooltip",{attrs:{content:"请根据你工资报表月份对应的社保报表月份进行选择，例如工资报表为6月，如果要对应5月的社保报表，则选择上月",effect:"dark",placement:"top"}},[a("i",{staticClass:"wk wk-help wk-help-tips"})])],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[t._v("保存")]),t._v(" "),a("el-button",{nativeOn:{click:function(e){return t.handleCancel(e)}}},[t._v("取消")])],1)])},_=[],S=a("8f37"),C={name:"OpenSetDialog",components:{Reminder:S["a"]},mixins:[p["a"]],props:{detail:Object,visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,title:"开启工资设置",form:{},cycleOptions:[],monthTypeOptions:[{label:"上月",value:0},{label:"当月",value:1},{label:"次月",value:2}]}},computed:{},watch:{visible:{handler:function(t){t&&(this.detail?this.form={salaryCycleStartDay:this.detail.salaryCycleStartDay||1,socialSecurityMonthType:this.detail.socialSecurityMonthType||0}:this.form={salaryCycleStartDay:1,socialSecurityMonthType:0})},immediate:!0}},created:function(){for(var t=1;t<=31;t++)this.cycleOptions.push(t)},methods:{handleCancel:function(){this.$router.go(-1),this.close()},close:function(){this.$emit("update:visible",!1)},getSalaryCycleEndDay:function(){return 1==this.form.salaryCycleStartDay?31:this.form.salaryCycleStartDay-1},getSalaryCycleEndDayDes:function(){var t=this.getSalaryCycleEndDay();return"至".concat(31===t?"当月":"次月").concat(t,"号")},handleConfirm:function(){var t=this;this.$refs.openForm.validate((function(e){e&&(t.loading=!0,t.form.salaryCycleEndDay=t.getSalaryCycleEndDay(),Object(o["c"])(t.form).then((function(e){t.$emit("change",t.form),t.close(),t.loading=!1})).catch((function(){t.loading=!1})))}))}}},x=C,D=(a("1c30"),Object(v["a"])(x,k,_,!1,null,"2021c895",null)),T=D.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{ref:"wkDialog",attrs:{visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,title:t.title,width:"550px"},on:{close:t.handleCancel}},[a("div",{staticClass:"form-add-dialog-body"},[a("div",[t._v("计薪人员："+t._s(t.number)+"人")]),t._v(" "),a("flexbox",{staticClass:"row"},[a("div",{staticClass:"row-mark"}),t._v(" "),a("div",{staticClass:"row-label"},[t._v("同步社保数据")]),t._v(" "),a("el-switch",{model:{value:t.form.isSyncInsuranceData,callback:function(e){t.$set(t.form,"isSyncInsuranceData",e)},expression:"form.isSyncInsuranceData"}})],1),t._v(" "),a("div",{staticClass:"row"},[a("flexbox",[a("div",{staticClass:"row-mark"}),t._v(" "),a("div",{staticClass:"row-label"},[t._v("同步考勤数据")]),t._v(" "),a("el-switch",{model:{value:t.form.isSyncAttendanceData,callback:function(e){t.$set(t.form,"isSyncAttendanceData",e)},expression:"form.isSyncAttendanceData"}})],1),t._v(" "),a("flexbox",{staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"row-mark"}),t._v(" "),a("div",{staticClass:"row-label"},[t._v("考勤数据"),a("el-button",{staticClass:"row-btn",attrs:{disabled:t.form.isSyncAttendanceData,type:"primary-text"},on:{click:function(e){t.downloadTemp("attendance")}}},[t._v("下载考勤导入模板")])],1),t._v(" "),a("wk-file-select",{attrs:{disabled:t.form.isSyncAttendanceData},on:{change:function(e){t.fileSelect(arguments[0],arguments[1],"attendance")}}},[a("el-button",{staticClass:"row-btn",attrs:{disabled:t.form.isSyncAttendanceData,type:"primary-text"}},[t._v(t._s(t.getAttendanceBtnName()))])],1)],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("flexbox",[a("div",{staticClass:"row-mark"}),t._v(" "),a("div",{staticClass:"row-label"},[t._v("录入个税扣缴信息（非累计预扣法可跳过此步骤）")])]),t._v(" "),a("flexbox",{staticClass:"row-children"},[a("div",{staticClass:"row-label"},[t._v("专项附加扣除累计"),a("el-button",{staticClass:"row-btn",attrs:{type:"primary-text"},on:{click:function(e){t.downloadTemp("additional")}}},[t._v("下载导入模板")])],1),t._v(" "),a("wk-file-select",{on:{change:function(e){t.fileSelect(arguments[0],arguments[1],"additional")}}},[a("el-button",{staticClass:"row-btn",attrs:{type:"primary-text"}},[t._v(t._s(t.getAdditionalBtnName()))])],1)],1),t._v(" "),a("flexbox",{staticClass:"row-children"},[a("div",{staticClass:"row-label"},[t._v("截止上月个税累计"),a("el-button",{staticClass:"row-btn",attrs:{type:"primary-text"},on:{click:function(e){t.downloadTemp("lastMonth")}}},[t._v("下载导入模板")])],1),t._v(" "),a("wk-file-select",{on:{change:function(e){t.fileSelect(arguments[0],arguments[1],"lastMonth")}}},[a("el-button",{staticClass:"row-btn",attrs:{type:"primary-text"}},[t._v(t._s(t.getLastMonthBtnName()))])],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[t._v("保存")]),t._v(" "),a("el-button",{nativeOn:{click:function(e){return t.handleCancel(e)}}},[t._v("取消")])],1)])},L=[],O=a("3f02"),j=a("ed08"),E={name:"ComputeSetDialog",components:{WkFileSelect:O["a"]},mixins:[p["a"]],props:{lastData:Object,visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,title:"核算工资",number:0,form:{},file:null,lastMonthFile:null,additionalFile:null}},computed:{},watch:{visible:{handler:function(t){t&&(this.number=0,this.file=null,this.lastMonthFile=null,this.additionalFile=null,this.form={isSyncInsuranceData:!0,isSyncAttendanceData:!1},this.getNum())},immediate:!0}},mounted:function(){},methods:{handleCancel:function(){this.$emit("update:visible",!1)},getNum:function(){var t=this;Object(s["G"])(1).then((function(e){t.number=e.data||0})).catch((function(){}))},getAttendanceBtnName:function(){return this.file?this.file.name:"导入考勤数据"},getLastMonthBtnName:function(){return this.lastMonthFile?this.lastMonthFile.name:"导入截止上月个税累计"},getAdditionalBtnName:function(){return this.additionalFile?this.additionalFile.name:"导入专项附加扣除累计"},fileSelect:function(t,e,a){if(t.length){var i=t[0];Object(j["H"])(i.name)&&("attendance"===a?this.file=i:"additional"===a?this.additionalFile=i:"lastMonth"===a&&(this.lastMonthFile=i))}e.target.value=""},downloadTemp:function(t){var e={attendance:s["w"],additional:s["u"],lastMonth:s["v"]}[t];e().then((function(t){Object(j["d"])(t)})).catch((function(){}))},handleConfirm:function(){var t=this;this.loading=!0,this.file&&(this.form.attendanceFile=this.file),this.lastMonthFile&&(this.form.cumulativeTaxOfLastMonthFile=this.lastMonthFile),this.additionalFile&&(this.form.additionalDeductionFile=this.additionalFile),this.form.srecordId=this.lastData.srecordId,Object(s["C"])(this.form).then((function(e){t.$message.success("操作成功"),t.$emit("change"),t.handleCancel(),t.loading=!1})).catch((function(){t.loading=!1}))}}},N=E,A=(a("662c"),Object(v["a"])(N,F,L,!1,null,"2bb93a46",null)),I=A.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"opacity-fade"}},[a("div",{staticClass:"edit-view"},[a("flexbox",{staticClass:"edit-header"},[a("div",{staticClass:"title"},[t._v("批量修改薪资")]),t._v(" "),a("div",{staticClass:"handle"},[a("el-button",{nativeOn:{click:function(e){t.handleClick("cancel")}}},[t._v("放弃编辑")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.handleClick("save")}}},[t._v("保存")])],1)]),t._v(" "),a("div",{staticClass:"edit-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.list,height:t.tableHeight,"cell-style":t.cellStyle,"header-cell-style":t.headerCellStyle,border:""}},t._l(t.fieldList,(function(e,i){return a("el-table-column",{key:"field"+i,attrs:{label:e.name,fixed:i<=3,width:e.width,prop:e.field,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(n){return[i<=3||e.isFixed?[t._v(t._s(n.row[n.column.property]))]:a("el-input-number",{attrs:{controls:!1,min:0,max:1e8,precision:2},model:{value:n.row[n.column.property],callback:function(e){t.$set(n.row,n.column.property,e)},expression:"scope.row[scope.column.property]"}})]}}])})})))],1)],1)])},P=[],M=(a("4de4"),{name:"BatchEditView",components:{},filters:{},props:{fieldList:Array,params:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,tableHeight:document.documentElement.clientHeight-100,list:[]}},computed:{},created:function(){this.getList()},mounted:function(){var t=this;this.$el.style.zIndex=Object(j["p"])(),document.body.appendChild(this.$el),window.onresize=function(){t.tableHeight=document.documentElement.clientHeight-100}},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},methods:{getList:function(){var t=this;this.loading=!0,Object(s["F"])(Object(l["a"])(Object(l["a"])({},this.params),{},{pageType:0})).then((function(e){var a=e.data.list,i=[];a.forEach((function(t){var e=t.salary||[],a={sempRecordId:t.sempRecordId,employeeName:t.employeeName,jobNumber:t.jobNumber,deptName:t.deptName,post:t.post};e.forEach((function(t){a[t.code]=t.value})),i.push(a)})),t.list=i,t.loading=!1})).catch((function(){t.loading=!1}))},handleClick:function(t){var e=this;if("cancel"==t)this.$confirm("确定放弃编辑并退出, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$emit("close")})).catch((function(){}));else{this.loading=!0;var a=[],i=this.fieldList.filter((function(t){return t.isFixed}));this.list.forEach((function(t){var e=Object(j["z"])(t),n=e.sempRecordId;delete e["sempRecordId"],delete e["employeeName"],delete e["jobNumber"],delete e["deptName"],delete e["post"],i.forEach((function(t){delete e[t.field]})),a.push({sempRecordId:n,salaryValues:e})})),Object(s["K"])(a).then((function(t){e.$emit("change"),e.$message.success("操作成功"),e.loading=!1,e.$emit("close")})).catch((function(){e.loading=!1}))}},cellStyle:function(t){t.row,t.column,t.rowIndex;var e=t.columnIndex;return e<=3?{color:"#787879",backgroundColor:"#F7F8FA",textAlign:"center"}:{textAlign:"center"}},headerCellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return{textAlign:"center"}}}}),z=M,B=(a("1d787"),Object(v["a"])(z,$,P,!1,null,"492634d8",null)),R=B.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{ref:"wkDialog",attrs:{visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,"show-close":!1,width:"500px"}},[a("span",{staticClass:"el-dialog__title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.title)),t.remarks?a("el-tooltip",{attrs:{content:t.remarks,effect:"dark",placement:"bottom"}},[a("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":"33","data-id":"292"}})]):t._e()],1),t._v(" "),a("div",{staticClass:"form-add-dialog-body"},[a("wk-af-new-apply",{ref:"afNewApply",attrs:{data:t.list,"approver-edit-auth":t.approverEditAuth,detail:t.examineAdvancedSetting}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.handleConfirm,expression:"handleConfirm"}],attrs:{type:"primary"}},[t._v("保存")]),t._v(" "),a("el-button",{nativeOn:{click:function(e){return t.handleCancel(e)}}},[t._v("取消")])],1)])},V=[],W=(a("caad"),a("2532"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wk-approval-flow-config-apply"},[a("el-button",{attrs:{type:"primary-text"},on:{click:t.checkClick}},[t._v(t._s(t.examineBtnName))]),t._v(" "),a("xr-create",{directives:[{name:"show",rawName:"v-show",value:t.createShow,expression:"createShow"}],ref:"configView",attrs:{loading:t.loading,title:"查看审批配置"},on:{close:t.createClose,save:t.saveClick}},[a("wk-approve-flow",{ref:"wkApproveFlow",attrs:{props:t.approveFlowConfig,list:t.flowList||[],"send-node":t.sendNode}})],1)],1)}),q=[],U=a("ffce"),G=a("43b6"),J=a("8156"),K=a("3817"),X={name:"WkAfNewApply",components:{WkApproveFlow:G["a"],XrCreate:J["a"]},mixins:[K["a"]],props:{detail:{type:Object,default:function(){return{}}}},data:function(){return{flowList:null,sendNode:{name:"发起人",content:"具有新建权限的员工"},loading:!1,createShow:!1}},computed:{examineAddShow:function(){var t;return!(null!==(t=this.detail)&&void 0!==t&&t.modifyPermissionType)||!this.detail.modifyPermissionType.includes(1)},copyAddShow:function(){var t;return!(null!==(t=this.detail)&&void 0!==t&&t.modifyPermissionType)||!this.detail.modifyPermissionType.includes(2)},examineBtnName:function(){return this.examineAddShow||this.copyAddShow?"查看并配置审批流>>":"查看审批流>>"},approveFlowConfig:function(){return{conditionAddShow:!1,examineAddShow:this.examineAddShow,copyAddShow:this.copyAddShow}}},watch:{detail:{handler:function(t){t&&t.hasOwnProperty("label")&&this.getUserFieldList(this.detail.label,this.detail.examineId,this.detail)},immediate:!0}},mounted:function(){},beforeDestroy:function(){},methods:{checkClick:function(){this.$refs.configView.$refs.createView.zIndex=Object(j["p"])(),this.createShow=!0,this.flowList&&0!==this.flowList.length||this.getFlowList(this.detail.examineId)},getFlowList:function(t){var e=this;this.loading=!0,Object(U["l"])({examineId:t}).then((function(t){var a=t.data||[],i=[];e.getListInfo(a,i,{additionalInfoFun:function(t,a,i){a.conditionDataList?t.disabled=!0:7===t.examineType?t.disabled=!e.copyAddShow:t.disabled=!e.examineAddShow}}),e.flowList=i||[],e.loading=!1})).catch((function(){e.loading=!1}))},createClose:function(){this.createShow=!1},saveClick:function(){var t=this.$refs.wkApproveFlow.getParams();t.isError?this.$message.error("请完善信息"):this.createClose()},getParams:function(){var t,e=this.$refs.wkApproveFlow.getParams({needUserFieldNamesParams:!0});return!this.flowList&&null!==(t=e.paramsData)&&void 0!==t&&t.userFieldNames&&(e.paramsData.userFieldNames=null),e.isError?(this.$message.error("请完善信息"),{pass:!0,flowParams:e}):{pass:!0,flowParams:e}}}},Q=X,Y=(a("32e7"),Object(v["a"])(Q,W,q,!1,null,"2ae8db3a",null)),Z=Y.exports,tt={name:"ExamineSubmitDialog",components:{WkAfNewApply:Z},mixins:[p["a"]],props:{visible:{type:Boolean,required:!0,default:!1},data:Object,examineAdvancedSetting:{type:Object,default:function(){return{}}},isEdit:{type:Boolean,default:!1}},data:function(){return{loading:!1,list:null,title:"提交审核",approverEditAuth:!1,carbonCopyEditAuth:!1}},computed:{remarks:function(){return this.data?this.data.remarks:""}},watch:{visible:{handler:function(t){if(t){var e,a=null===(e=this.examineAdvancedSetting)||void 0===e?void 0:e.modifyPermissionType;a?(this.approverEditAuth=!a.includes(1),this.carbonCopyEditAuth=!a.includes(2)):(this.approverEditAuth=!0,this.carbonCopyEditAuth=!0),this.list=this.data?this.data.examineFlowList:null}},immediate:!0}},mounted:function(){},methods:{handleCancel:function(){this.close()},close:function(){this.$emit("update:visible",!1)},handleConfirm:function(){var t=this.$refs.afNewApply?this.$refs.afNewApply.getParams():{pass:!0,flowParams:{list:[]}};this.$emit("save",t)}}},et=tt,at=(a("5140"),Object(v["a"])(et,H,V,!1,null,"d3f85074",null)),it=at.exports,nt=a("4399"),lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{ref:"wkDialog",attrs:{visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,title:t.title,width:"700px"},on:{close:t.close}},[a("el-table",{staticClass:"el-table-header--white",attrs:{data:t.list,height:"400px",stripe:""}},t._l(t.fieldList,(function(e,i){return a("el-table-column",{key:i,attrs:{prop:e.prop,label:e.label,formatter:t.fieldFormatter,"show-overflow-tooltip":""}})})))],1)},st=[],ot=a("8b13"),rt={name:"NoEmployeeDialog",components:{},mixins:[p["a"]],props:{visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,title:"无薪资组员工列表",list:[],fieldList:[{prop:"employeeName",width:"200",label:"姓名"},{prop:"jobNumber",width:"200",label:"工号"},{prop:"deptName",width:"200",label:"部门"},{prop:"post",width:"200",label:"岗位"},{prop:"status",width:"200",label:"员工状态"},{prop:"entryTime",width:"200",label:"入职时间"}]}},computed:{},watch:{visible:{handler:function(t){t&&this.getDetail()},immediate:!0}},mounted:function(){},methods:{close:function(){this.$emit("update:visible",!1)},fieldFormatter:function(t,e){var a=ot["d"]["".concat(e.property,"Value")];return a?a[t[e.property]]||"--":t[e.property]||"--"},getDetail:function(){var t=this;this.loading=!0,Object(s["H"])().then((function(e){t.list=e.data||[],t.loading=!1})).catch((function(){t.loading=!1}))}}},ct=rt,dt=Object(v["a"])(ct,lt,st,!1,null,"657f4a66",null),ut=dt.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{ref:"wkDialog",attrs:{visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,top:"10vh",width:"700px",title:"发送工资条"},on:{close:t.close}},[a("div",{staticClass:"salary-slip-create"},[t.isNext?[a("div",{staticClass:"filter-header"},[t.hasFilterContent?a("el-button",{attrs:{type:"text"},on:{click:t.resetFilter}},[t._v("清除筛选")]):t._e(),t._v(" "),a("wk-popover-filter",{staticStyle:{"margin-right":"5px"},attrs:{width:700,"field-from":t.filterObj,"field-list":t.filterList,"has-content":t.hasFilterContent,placement:"bottom"},on:{"update:fieldFrom":function(e){t.filterObj=e},sure:t.refreshList,reset:t.resetFilter}})],1),t._v(" "),a("div",{staticClass:"table-header"},[t._v("选择发放的员工")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.employeeList,height:t.tableHeight,"row-height":40,"use-virtual":""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.fieldList,(function(e,i){return a("el-table-column",{key:i,attrs:{label:e.name,prop:e.field,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("sendStatus"===e.column.property?{0:"未发送",1:"已发送"}[e.row[e.column.property]]:e.row[e.column.property]))]}}])})}))],2),t._v(" "),a("div",{staticClass:"p-contianer"},[a("el-pagination",{staticClass:"p-bar",attrs:{"current-page":t.currentPage,"page-sizes":t.pageSizes,"page-size":t.pageSize,total:t.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:pageSize":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]:[a("flexbox",{staticClass:"salary-slip-create__header"},[a("span",[t._v("选择模板")]),t._v(" "),a("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":"33","data-id":"293"}}),t._v(" "),a("el-select",{on:{change:t.templateChange},model:{value:t.templateId,callback:function(e){t.templateId=e},expression:"templateId"}},[t._l(t.templates,(function(e){return a("el-option",{key:e.id,attrs:{label:e.templateName,value:e.id}},[a("flexbox",[a("flexbox-item",[t._v(t._s(e.templateName))]),t._v(" "),0==e.defaultOption?a("i",{staticClass:"el-icon-close template-delete",on:{click:function(a){a.stopPropagation(),t.deleteTemplateClick(e)}}}):t._e()],1)],1)})),t._v(" "),a("div",{staticClass:"handle-bar"},[a("el-button",{staticClass:"save-btn",attrs:{type:"text",icon:"wk wk-icon-save"},on:{click:t.templateSave}},[t._v("保存模板")])],1)],2)],1),t._v(" "),a("flexbox"),t._v(" "),a("flexbox",{staticClass:"salary-slip-create__header"},[a("flexbox-item",[t._v("选择员工可见项")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.classAdd}},[t._v("新建分类")])],1),t._v(" "),a("flexbox"),t._v(" "),a("div",{staticClass:"salary-slip-create__body"},[a("flexbox",{staticClass:"section__header"},[a("el-checkbox",{attrs:{indeterminate:t.allIsIndeterminate},on:{change:t.allChange},model:{value:t.allCheckbox,callback:function(e){t.allCheckbox=e},expression:"allCheckbox"}}),a("span",{staticClass:"label"},[t._v("全部可见")])],1),t._v(" "),a("draggable",{staticClass:"section__list",attrs:{list:t.templateList,options:{group:"mission",forceFallback:!1,dragClass:"sortable-parent-drag",filter:".ignore-elements"},handle:".section-handle"}},t._l(t.templateList,(function(e,i){return a("div",{key:i,staticClass:"section"},[a("flexbox",{staticClass:"item is-section"},[a("flexbox-item",{staticClass:"item__body"},[t._v("\n                "+t._s(e.name)+"\n\n              ")]),t._v(" "),a("div",{staticClass:"item__footer"},[a("i",{staticClass:"wk wk-write",attrs:{title:"编辑"},on:{click:function(a){t.classNameChange(e)}}}),t._v(" "),t.templateList.length>1?a("i",{staticClass:"wk wk-delete",attrs:{title:"删除"},on:{click:function(a){t.deleteItem(e,i)}}}):t._e(),t._v(" "),a("span",{staticClass:"drag-handle section-handle"},[t._v("⋮⋮")])])],1),t._v(" "),a("draggable",{staticClass:"ignore-elements",attrs:{list:e.optionList,options:{group:{name:"missionSon"},forceFallback:!1,filter:".board-item-active",dragClass:"sortable-drag"},handle:".child-handle"}},[t._l(e.optionList,(function(e,i){return a("flexbox",{key:i,staticClass:"item is-child"},[a("el-checkbox",{staticClass:"item__header",attrs:{disabled:e.code===t.disabledCode,"true-label":0,"false-label":1},on:{change:t.changeAllCheckboxStatus},model:{value:e.isHide,callback:function(a){t.$set(e,"isHide",a)},expression:"subItem.isHide"}}),t._v(" "),a("flexbox-item",{staticClass:"item__body"},[t._v(t._s(e.name)+"\n                  "),e.remark?a("el-tooltip",{attrs:{content:e.remark,effect:"dark",placement:"top"}},[a("i",{staticClass:"wk wk-help wk-help-tips"})]):t._e()],1),t._v(" "),a("div",{staticClass:"item__footer"},[a("i",{staticClass:"wk wk-icon-draft",attrs:{title:"备注",alt:"备注"},on:{click:function(a){t.draftAdd(e)}}}),t._v(" "),a("span",{staticClass:"drag-handle child-handle"},[t._v("⋮⋮")])])],1)})),t._v(" "),0===e.optionList.length?a("div",{staticClass:"no-data"},[t._v("将工资项拖拽到此分类")]):t._e()],2)],1)})))],1)]],2),t._v(" "),t.isNext?[a("span",{key:t.isNext?"next":"first",staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isNext=!1}}},[t._v("上一步")]),t._v(" "),a("el-button",{attrs:{disabled:0===t.selectionList.length,type:"primary"},on:{click:function(e){t.sendClick("select")}}},[t._v("发放已选员工")]),t._v(" "),a("el-button",{attrs:{disabled:0===t.employeeList.length,type:"primary"},on:{click:function(e){t.sendClick("all")}}},[t._v("全部发放")])],1)]:[a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.nextClick}},[t._v("下一步")]),t._v(" "),a("el-button",{on:{click:t.close}},[t._v("取消")])],1),t._v(" "),a("span",{staticStyle:{float:"left","margin-top":"5px"},attrs:{slot:"footer"},slot:"footer"},[a("el-checkbox",{staticStyle:{"margin-right":"8px"},attrs:{"true-label":1,"false-label":0},model:{value:t.templateData.hideEmpty,callback:function(e){t.$set(t.templateData,"hideEmpty",e)},expression:"templateData.hideEmpty"}}),t._v("隐藏空数据工资项\n    ")],1)]],2)},ht=[],mt=(a("7db0"),a("a434"),a("3c65"),a("b76a")),pt=a.n(mt),gt={name:"SalarySlipCreate",components:{Draggable:pt.a,WkPopoverFilter:u["a"]},mixins:[p["a"]],props:{visible:{type:Boolean,required:!0,default:!1}},data:function(){return{loading:!1,allCheckbox:!1,allIsIndeterminate:!1,templateId:"",templateData:{},templates:[],templateList:[],isNext:!1,currentPage:1,pageSize:15,pageSizes:[15,30,60,100],total:0,tableHeight:.6*document.documentElement.clientHeight-90,employeeList:[],selectionList:[],fieldList:[{name:"姓名",field:"employeeName"},{name:"工号",field:"jobNumber"},{name:"部门",field:"deptName"},{name:"岗位",field:"post"},{name:"手机号",field:"mobile"},{name:"发送状态",field:"sendStatus"}],filterList:[{name:"员工姓名",field:"employeeName",formType:"text",setting:[]},{name:"部门",field:"deptId",formType:"structure",props:{dataType:"hrm"},request:r["e"],setting:[]},{name:"发送状态",field:"sendStatus",formType:"select",setting:[{label:"未发送",value:0},{label:"已发送",value:1}]}],disabledCode:240101,filterObj:{}}},computed:{hasFilterContent:function(){if(this.filterObj){for(var t=!1,e=Object.keys(this.filterObj),a=0;a<e.length;a++){var i=e[a];""!=this.filterObj[i]&&this.filterObj[i]!=[]&&null!=this.filterObj[i]&&void 0!=this.filterObj[i]&&(t=!0)}return t}return!1}},watch:{visible:{handler:function(t){t&&(this.isNext=!1,this.currentPage=1,this.selectionList=[],this.employeeList=[],this.filterObj={},this.getTemplateList())},immediate:!0}},mounted:function(){},methods:{allChange:function(){var t=this;this.templateList.forEach((function(e){e&&e.optionList&&e.optionList.forEach((function(e){e.code!=t.disabledCode&&(e.isHide=t.allCheckbox?0:1)}))}))},changeAllCheckboxStatus:function(){for(var t=null,e=!1,a=0;a<this.templateList.length;a++){for(var i=this.templateList[a],n=0;n<i.optionList.length;n++){var l=i.optionList[n];if(t){if(t.isHide!=l.isHide){e=!0,this.allIsIndeterminate=!0;break}}else t=l}if(e)break}e||(this.allCheckbox=1!==t.isHide,this.allIsIndeterminate=!1)},getTemplateList:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=!0,Object(s["V"])().then((function(a){t.loading=!1,t.templates=a.data||[],e&&(t.templates.length>0?(t.templateData=t.templates[0],t.templateId=t.templateData.id):(t.templateData={},t.templateId=""),t.getTemplateDetail())})).catch((function(){t.loading=!1}))},getTemplateDetail:function(){var t=this;this.loading=!0,Object(s["U"])(this.templateId).then((function(e){t.loading=!1,t.templateList=e.data||[],t.changeAllCheckboxStatus()})).catch((function(){t.loading=!1}))},templateChange:function(){var t=this;this.templateData=this.templates.find((function(e){return e.id===t.templateId})),this.getTemplateDetail()},deleteTemplateClick:function(t){var e=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.loading=!0,Object(s["T"])(t.id).then((function(t){e.loading=!1,e.$message.success("删除成功"),e.getTemplateList()})).catch((function(){e.loading=!1}))})).catch((function(){}))},draftAdd:function(t){this.$prompt("","备注",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"text",inputValue:t.remark,inputPlaceholder:"请输入内容",closeOnClickModal:!1}).then((function(e){var a=e.value;t.remark=a})).catch((function(){}))},classNameChange:function(t){this.$prompt("","分类名称",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"text",inputValue:t.name,inputPlaceholder:"请输入内容",inputPattern:/\S/,closeOnClickModal:!1,inputErrorMessage:"请输入内容"}).then((function(e){var a=e.value;t.name=a})).catch((function(){}))},deleteItem:function(t,e){var a=this,i=0===e?this.templateList[e+1]:this.templateList[e-1],n=0===t.optionList.length?"确定删除？":'确定删除？该分类下工资项将并入"'.concat(i.name,'"分类');this.$confirm(n,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.templateList.splice(e,1),0!==t.length&&(i.optionList=i.optionList.concat(t.optionList))})).catch((function(){}))},classAdd:function(){var t=this;this.$prompt("","分类名称",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"text",inputPlaceholder:"请输入内容",inputPattern:/\S/,closeOnClickModal:!1,inputErrorMessage:"请输入内容"}).then((function(e){var a=e.value;t.templateList.unshift({isHide:0,type:1,name:a,optionList:[]})})).catch((function(){}))},templateSave:function(){var t=this,e=this.templateList.find((function(t){return 0===t.optionList.length}));e?this.$message.error("请完善分类".concat(e.name,"工资项")):this.$prompt("","模板名称",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"text",inputPlaceholder:"请输入内容",inputPattern:/\S/,closeOnClickModal:!1,inputErrorMessage:"请输入内容"}).then((function(e){var a=e.value;t.loading=!0,Object(s["S"])({hideEmpty:t.templateData.hideEmpty,slipTemplateOption:t.templateList,templateName:a}).then((function(e){t.loading=!1,t.getTemplateList(!1)})).catch((function(){t.loading=!1}))})).catch((function(){}))},close:function(){this.$emit("update:visible",!1)},nextClick:function(){var t=this.templateList.find((function(t){return 0===t.optionList.length}));t?this.$message.error('请完善分类"'.concat(t.name,'"下的工资项')):(this.isNext=!0,this.refreshList())},refreshList:function(){this.currentPage=1,this.getEmployeeList()},handleSizeChange:function(t){this.pageSize=t,this.getEmployeeList()},handleCurrentChange:function(t){this.currentPage=t,this.getEmployeeList()},resetFilter:function(){this.filterObj={},this.refreshList()},getEmployeeList:function(){var t=this;this.loading=!0;var e={page:this.currentPage,limit:this.pageSize};for(var a in this.filterObj)e[a]=this.filterObj[a];Object(s["N"])(e).then((function(e){t.employeeList=e.data.list,t.total=e.data.totalRow,e.data.totalRow&&Math.ceil(e.data.totalRow/t.pageSize)<t.currentPage&&t.currentPage>1?(t.currentPage=t.currentPage-1,t.getList()):(t.total=e.data.totalRow,t.loading=!1),t.$nextTick((function(){var t=document.querySelector(".el-table__body-wrapper");t.scrollTop=1,0!=t.scrollLeft&&(t.scrollLeft=t.scrollLeft-1)})),t.loading=!1})).catch((function(){t.loading=!1}))},sendClick:function(t){var e=this;if(!1===this.loading){this.loading=!0;var a=Object(j["z"])(this.templateList),i=[];a.forEach((function(t){var e=[];t.optionList.forEach((function(t){0==t.isHide&&e.push(t)})),t.optionList=e,t.optionList.length>0&&i.push(t)}));var n={hideEmpty:this.templateData.hideEmpty,slipTemplateOption:i};if("all"===t){for(var l in this.filterObj)n[l]=this.filterObj[l];n.isAll=!0,n.sempRecordIds=[]}else n.isAll=!1,n.sempRecordIds=this.selectionList.map((function(t){return t.sempRecordId}));Object(s["O"])(n).then((function(t){e.loading=!1,e.$message.success("操作成功"),e.close()})).catch((function(){e.loading=!1}))}},handleSelectionChange:function(t){this.selectionList=t}}},bt=gt,vt=(a("0be0"),Object(v["a"])(bt,ft,ht,!1,null,"3b944e4d",null)),yt=vt.exports,wt=a("2f62"),kt=a("6bfe"),_t=a("c1df"),St=a.n(_t),Ct=a("3835"),xt=(a("3ca3"),a("ddb0"),a("a15b"),a("7a1a")),Dt=a("8ed6"),Tt={data:function(){return{_wkFlowSetFields:null,_wkFlowSetFieldNames:[],_wkFlowSetConditionFieldNames:[],_wkFlowParams:{},_wkFlowListParams:{},_wkFlowResolve:null,_wkFieldForm:{},examineAdvancedSetting:{}}},created:function(){this.debouncedGetWkFlowList=Object(xt["debounce"])(500,this._getWkFlowList)},methods:{initWkFlowData:function(t,e){t.params&&(this._wkFlowParams=t.params),t.fieldForm&&(this._wkFieldForm=t.fieldForm),this._wkFlowResolve=e,this._getWkFlowSetFields()},_getWkFlowSetFields:function(){var t=this;Promise.all([Object(U["j"])(this._wkFlowParams),Object(U["m"])(this._wkFlowParams)]).then((function(e){var a=Object(Ct["a"])(e,2),i=a[0],n=a[1],l=(i.data||[]).concat(n.data||[]);t._wkFlowSetFields=l,t._wkFlowSetFields?(t._wkFlowSetConditionFieldNames=(i.data||[]).map((function(t){return t.fieldName})),t._wkFlowSetFieldNames=t._wkFlowSetFields.map((function(t){return t.fieldName})),t._getWkFlowList(null,t._wkFieldForm)):t._wkFlowResolve&&t._wkFlowResolve({list:null})}))},_getWkFlowList:function(t,e){var a=this;this._wkFlowSetFields&&(!this._wkFlowSetFieldNames.includes(t)&&t||(this._wkFlowListParams=Object(l["a"])(Object(l["a"])({},this._wkFlowParams),{},{dataMap:this.getWkFlowDataMap(e)}),Object(U["k"])(this._wkFlowListParams).then((function(t){var e=t.data||{},i=e.examineId?[]:null;e.label=a._wkFlowParams.label,a.examineAdvancedSetting=e,a._wkFlowResolve&&a._wkFlowResolve({list:i,resData:e})})).catch((function(){}))))},getWkFlowDataMap:function(t,e){var a={},i=e?this._wkFlowSetConditionFieldNames.concat(e):this._wkFlowSetFieldNames||[];return i.forEach((function(e){var i=t?t[e]:"";Array.isArray(i)?a[e]=i.join(","):a[e]=Object(kt["c"])(i)?"":i})),a},validateWkFlowData:function(t,e,a){var i=this,n={forcePass:!1},s=Object(Dt["a"])(Object(l["a"])({},n),a||{}),o=!0,r=[];return t&&(!Object(kt["a"])(t)||0!==t.length)||s.forcePass?(t.forEach((function(t){if(4===t.examineType)if(t.userList.length>0){var a=[];t.userList.forEach((function(t){var n={userId:t.userId,email:t.email||t.outerUserEmail};"draft"!=e&&"draft"!=i.examineType||(n.realname=t.realname),a.push(n)})),r.push(Object(l["a"])(Object(l["a"])({},t),{},{userList:a}))}else o=!1;else{var n,s=Object(j["z"])(t),c=[];null===(n=s.userList)||void 0===n||n.forEach((function(t){t.hasOwnProperty("outerUserEmail")&&t.outerUserEmail?c.push({email:t.outerUserEmail}):c.push(t)})),s.userList=c,r.push(s)}})),{pass:!!s.forcePass||o,data:Object(l["a"])(Object(l["a"])({},this._wkFlowListParams),{},{examineFlowFinalBOList:r})}):{pass:o,data:null}}}},Ft={name:"SalaryIndex",components:{XrHeader:c["a"],XrTableHeader:d["a"],WkPopoverFilter:u["a"],WkStepsExplainView:f["a"],MonthSetDialog:w,OpenSetDialog:T,ComputeSetDialog:I,BatchEditView:R,ExamineSubmitDialog:it,ExamineProgressDialog:nt["a"],NoEmployeeDialog:ut,Reminder:S["a"],SalarySlipCreate:yt},mixins:[Tt],data:function(){return{loading:!1,noNum:0,noEmployeeDialogShow:!1,tableHeight:400,list:[],fieldList:[],currentPage:1,pageSize:15,pageSizes:[15,30,60,100],total:0,popoverFilterWidth:document.documentElement.clientWidth-80,tabType:"0",tabList:[{label:"计薪人数",name:"0",num:0},{label:"新入职",name:"1",num:0},{label:"离职",name:"2",num:0},{label:"转正",name:"3",num:0},{label:"调岗",name:"4",num:0}],rowID:"",showDview:!1,filterList:[{name:"员工姓名",field:"employeeName",formType:"text",setting:[]},{name:"部门",field:"deptId",formType:"structure",props:{dataType:"hrm"},request:r["e"],setting:[]}],filterObj:{},explainTitle:"首次生成薪资前，请先配置薪资信息",explainSteps:[{icon:a("b5da"),label:"第一步：",desLeft:"去企业后台",desCenter:"【配置工资表】",desRight:""},{icon:a("639f"),label:"第二步：",desLeft:"去企业后台",desCenter:"【配置计税规则】",desRight:"",button:"已配置完成，去生成薪资"},{icon:a("bd88"),label:"第三步：",desLeft:"",desCenter:"【创建薪资组】",desRight:"关联员工及计税规则"}],initStatusConfig:null,initDataConfig:null,stepsExplainShow:!1,monthDialogShow:!1,openData:null,openDialogShow:!1,computeDialogShow:!1,lastData:null,editViewShow:!1,sumData:null,examineSubDialogShow:!1,examineProDialogShow:!1,examineData:null,slipCreatShow:!1}},computed:Object(l["a"])(Object(l["a"])({},Object(wt["b"])(["hrm"])),{},{salaryAuth:function(){return this.hrm.salary},manageAuth:function(){return this.salaryAuth&&this.salaryAuth.manage},sendAuth:function(){return this.salaryAuth&&this.salaryAuth.sendSlip},hasFilterContent:function(){if(this.filterObj){for(var t=!1,e=Object.keys(this.filterObj),a=0;a<e.length;a++){var i=e[a];""!=this.filterObj[i]&&this.filterObj[i]!=[]&&null!=this.filterObj[i]&&void 0!=this.filterObj[i]&&(t=!0)}return t}return!1},listShow:function(){return!!this.initStatusConfig&&(this.initStatusConfig.firstConfig&&this.initStatusConfig.secondConfig)},startEndTimeValue:function(){return this.lastData?"计薪周期：".concat(St()(this.lastData.startTime).format("MM月DD日"),"-").concat(St()(this.lastData.endTime).format("MM月DD日")):""},postParams:function(){var t={};for(var e in this.lastData&&(t.srecordId=this.lastData.srecordId),t.type=this.tabType,this.filterObj)t[e]=this.filterObj[e];return t},checkShow:function(){return!!this.examineData},checkSubmitShow:function(){return this.checkShow&&this.lastData&&(2==this.lastData.checkStatus||4==this.lastData.checkStatus||11==this.lastData.checkStatus||13==this.lastData.checkStatus)},checkProgressShow:function(){return this.checkShow&&this.lastData&&5!=this.lastData.checkStatus&&11!=this.lastData.checkStatus&&this.lastData.examineRecordId},tabShow:function(){return this.lastData&&5!=this.lastData.checkStatus},computedShow:function(){return!this.checkShow||!this.lastData||(2==this.lastData.checkStatus||4==this.lastData.checkStatus||5==this.lastData.checkStatus||11==this.lastData.checkStatus||13==this.lastData.checkStatus)},onlineEditShow:function(){return!this.checkShow||!this.lastData||(2==this.lastData.checkStatus||4==this.lastData.checkStatus||11==this.lastData.checkStatus)},createShow:function(){return!this.examineData||!this.lastData||(1==this.lastData.checkStatus||14==this.lastData.checkStatus)}}),watch:{},created:function(){var t=this;this.getTableHeight(),window.onresize=function(){t.getTableHeight()},this.refreshPageData()},methods:{getNoNum:function(){var t=this;Object(s["G"])(0).then((function(e){t.noNum=e.data||0})).catch((function(){}))},refreshPageData:function(){this.lastData=null,this.getConfigList()},getExamineData:function(t){var e=this,a={label:4};2!=this.lastData.checkStatus&&13!=this.lastData.checkStatus||(a.recordId=this.lastData.examineRecordId),this.initWkFlowData({params:a,fieldForm:t},(function(t){var a=t.resData;e.examineData=a.examineId?a:null}))},getTableHeight:function(){this.tableHeight=document.documentElement.clientHeight-(this.tabShow?255:205)-(this.noNum>0?70:0)},getConfigList:function(){var t=this;this.loading=!0,Object(o["b"])().then((function(e){var a=e.data.statusInitConfig,i=1==a[2],n=1==a[3];t.initStatusConfig={firstConfig:i,secondConfig:n},t.initDataConfig=e.data.otherInitConfig,i?n?(t.stepsExplainShow=!1,t.openDialogShow=!1,t.getTableHeader()):t.openDialogShow=!0:t.stepsExplainShow=!0,t.loading=!1})).catch((function(){t.loading=!1}))},stepClick:function(t,e,a){"des"==t?0==e?this.$router.push({name:"salaryOptions"}):1!=e&&2!=e||this.$router.push({name:"salaryRules",query:{type:{1:"tax",2:"group"}[e]}}):"button"==t&&this.updateInItConfig(2)},updateInItConfig:function(t){var e=this;this.loading=!0,Object(o["e"])(t).then((function(a){2==t?e.openDialogShow=!0:e.getTableHeader(),e.loading=!1})).catch((function(){e.loading=!1}))},openSetChange:function(t){this.openData=t,this.monthDialogShow=!0},monthSetChange:function(t,e){this.getConfigList()},getTableHeader:function(){var t=this;this.loading=!0,Object(s["E"])().then((function(e){t.loading=!1;var a=[{field:"employeeName",name:"姓名",width:100},{field:"jobNumber",name:"工号",width:100},{field:"deptName",name:"部门",width:100},{field:"post",name:"岗位",width:100}],i=e.data.map((function(t){return{field:t.code.toString(),name:t.name,isFixed:1===t.isFixed,width:100}}));t.fieldList=a.concat(i),t.refreshList()})).catch((function(){t.loading=!1}))},getLastData:function(){var t=this;return new Promise((function(e,a){if(t.lastData)return e(t.lastData);t.loading=!0,Object(s["z"])().then((function(a){t.lastData=a.data,t.loading=!1,e(t.lastData)})).catch((function(){t.loading=!1,a&&a()}))}))},resetFilter:function(){this.filterObj={},this.refreshList()},checkClick:function(t){"submit"==t?this.examineSubDialogShow=!0:this.examineProDialogShow=!0},examineSubmitClick:function(t){var e=this;if(this.$refs.examineSubmitDialog.loading=!0,t.pass){var a={srecordId:this.lastData.srecordId,checkStatus:this.lastData.checkStatus,examineRecordId:this.lastData.examineRecordId};a.examineFlowData={label:this.examineAdvancedSetting.label,dataMap:{},flowDataList:t.flowParams.list},Object(s["I"])(a).then((function(t){e.lastData=null,e.$refs.examineSubmitDialog.loading=!1,e.examineSubDialogShow=!1,e.getLastData()})).catch((function(){e.$refs.examineSubmitDialog.loading=!1}))}else this.$refs.examineSubmitDialog.loading=!1,this.$message.error("请完善审批信息")},examineProgressChange:function(){this.lastData=null,this.getLastData()},computeClick:function(){this.computeDialogShow=!0},createClick:function(){var t=this;this.$confirm("新建下月工资表，当前的工资表将归入历史工资表中，且历史工资表数据不可修改。请确认现在就开始做下月工资吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["A"])().then((function(e){t.refreshList()})).catch((function(){}))})).catch((function(){}))},tabClick:function(){this.handleCurrentChange(1)},createSlipClick:function(){this.slipCreatShow=!0},deleteClick:function(){var t=this;this.$confirm("当月工资表删除后，上月工资表将纳入当月工资表中，并且支持修改，确定要删除当月工资表吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["D"])(t.lastData.srecordId).then((function(e){t.refreshList()})).catch((function(){}))})).catch((function(){}))},refreshList:function(){this.lastData=null,this.getNoNum(),this.handleCurrentChange(1)},handleSizeChange:function(t){this.pageSize=t,this.getList()},handleCurrentChange:function(t){this.currentPage=t,this.getList()},getList:function(){var t=this;this.getLastData().then((function(e){t.getExamineData(e),t.loading=!0;var a=Object(l["a"])(Object(l["a"])({},t.postParams),{},{page:t.currentPage,limit:t.pageSize});Object(s["F"])(a).then((function(e){var a=e.data||{},i=a.list;i.forEach((function(t){var e=t.salary||[];e.forEach((function(e){t[e.code]=e.value}))})),t.list=i,t.total=a.totalRow;var n=a.extraData||{},l=n.salaryOption,s={};l.forEach((function(t){s[t.code]=t.value})),t.sumData=s,t.total>0&&t.getTabNum(),t.getTableHeight(),t.$nextTick((function(){var t=document.querySelector(".el-table__body-wrapper");t.scrollTop=1,0!=t.scrollLeft&&(t.scrollLeft=t.scrollLeft-1)})),t.loading=!1})).catch((function(){t.loading=!1}))})).catch((function(){}))},getTabNum:function(){var t=this;Object(s["B"])().then((function(e){var a=e.data||{};t.tabList.forEach((function(t){"all"!=t.name&&(t.num=a[parseInt(t.name)]||0)}))})).catch((function(){}))},getSumData:function(){var t=this;this.getLastData().then((function(e){Object(s["J"])(e.srecordId).then((function(e){var a=e.data||[],i={};a.forEach((function(t){i[t.code]=t.value})),t.sumData=i})).catch((function(){}))})).catch((function(){}))},getSummaries:function(t){var e=this,a=t.columns,i=[];return a.forEach((function(t,a){i[a]=0===a?"总合计":a<=5?"":e.sumData?e.sumData[t.property]:""})),i},fieldFormatter:function(t,e){var a=t[e.property];return Object(kt["c"])(a)?"--":a},editClick:function(){this.editViewShow=!0},checkNoEmployeesClick:function(){this.noEmployeeDialogShow=!0},noEmployeesCloseClick:function(){this.noNum=0,this.getTableHeight()}}},Lt=Ft,Ot=(a("ca13"),Object(v["a"])(Lt,i,n,!1,null,"68996cd4",null));e["default"]=Ot.exports},a196:function(t,e,a){},ac16:function(t,e,a){},b5da:function(t,e,a){t.exports=a.p+"static/img/setting.3ca1897f.png"},bd88:function(t,e,a){t.exports=a.p+"static/img/cycle.beabd3ef.png"},ca13:function(t,e,a){"use strict";a("a196")},d71d:function(t,e,a){}}]);