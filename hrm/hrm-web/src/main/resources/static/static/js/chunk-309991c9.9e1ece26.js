(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-309991c9"],{"1f74":function(e,t,a){"use strict";a("b0e1")},"2a46":function(e,t,a){"use strict";a("9228")},7822:function(e,t,a){"use strict";a("a5c5")},"8b13":function(e,t,a){"use strict";a.d(t,"c",(function(){return p})),a.d(t,"g",(function(){return b})),a.d(t,"a",(function(){return w})),a.d(t,"f",(function(){return C})),a.d(t,"d",(function(){return q})),a.d(t,"e",(function(){return F})),a.d(t,"b",(function(){return $}));a("b64b"),a("d81d"),a("d9e2"),a("14d9"),a("99af");var i=a("ed08"),l=a("6bfe"),n=a("7078"),r=a("0f4c");function s(e){var t=Object.keys(e);return t.map((function(t){return{label:e[t],value:parseInt(t)}}))}var o=[{name:"学历",field:"education",formType:"select",setting:[{label:"小学",value:1},{label:"初中",value:2},{label:"中专",value:3},{label:"中职",value:4},{label:"中技",value:5},{label:"高中",value:6},{label:"大专",value:7},{label:"本科",value:8},{label:"硕士",value:9},{label:"博士",value:10},{label:"博士后",value:11},{label:"其他",value:12}]},{name:"毕业院校",field:"graduateSchool",formType:"text",setting:[]},{name:"专业",field:"major",formType:"text",setting:[]},{name:"入学时间",field:"admissionTime",formType:"date",setting:[]},{name:"毕业时间",field:"graduationTime",formType:"date",setting:[]},{name:"教学方式",field:"teachingMethods",formType:"select",setting:[{label:"全日制",value:1},{label:"成人教育",value:2},{label:"远程教育",value:3},{label:"自学考试",value:4},{label:"其他",value:5}]},{name:"是否第一学历",field:"isFirstDegree",formType:"radio",setting:[{label:"否",value:0},{label:"是",value:1}]}],c={1:"小学",2:"初中",3:"中专",4:"中职",5:"中技",6:"高中",7:"大专",8:"本科",9:"硕士",10:"博士",11:"博士后",12:"其他"},u={1:"全日制",2:"成人教育",3:"远程教育",4:"自学考试",5:"其他"},d={1:"是",0:"否"},m={education:[{required:!0,message:"请选择",trigger:["blur","change"]}],graduateSchool:[{required:!0,message:"请输入",trigger:["blur","change"]}],major:[{required:!0,message:"请输入",trigger:["blur","change"]}],isFirstDegree:[{required:!0,message:"请选择",trigger:["blur","change"]}]},p={fields:o,rules:m,educationValue:c,teachingMethodsValue:u,isFirstDegreeValue:d},f=[{name:"工作单位",field:"workUnit",formType:"text",setting:[]},{name:"职务",field:"post",formType:"text",setting:[]},{name:"工作开始时间",field:"workStartTime",formType:"date",setting:[]},{name:"工作结束时间",field:"workEndTime",formType:"date",setting:[]},{name:"离职原因",field:"leavingReason",formType:"text",setting:[]},{name:"证明人",field:"witness",formType:"text",setting:[]},{name:"证明人电话",field:"witnessPhone",formType:"mobile",setting:[]},{name:"工作备注",field:"workRemarks",formType:"text",setting:[]}],h=function(e,t,a){Object(l["c"])(t)||Object(i["B"])(t)?a():a(new Error("手机格式有误"))},g={workUnit:[{required:!0,message:"请输入",trigger:["blur","change"]}],post:[{required:!0,message:"请输入",trigger:["blur","change"]}],witnessPhone:[{validator:h,trigger:["blur","change"]}]},b={fields:f,rules:g},v=[{name:"证书名称",field:"certificateName",formType:"text",setting:[]},{name:"证书级别",field:"certificateLevel",formType:"text",setting:[]},{name:"证书/证件编号",field:"certificateNum",formType:"text",setting:[]},{name:"有效期起始日期",field:"startTime",formType:"date",setting:[]},{name:"有效期到期日",field:"endTime",formType:"date",setting:[]},{name:"发证机构",field:"issuingAuthority",formType:"text",setting:[]},{name:"发证日期",field:"issuingTime",formType:"date",setting:[]},{name:"证件备注",field:"remarks",formType:"text",setting:[]}],y={certificateName:[{required:!0,message:"请输入",trigger:["blur","change"]}]},w={fields:v,rules:y},T=[{name:"培训课程",field:"trainingCourse",formType:"text",setting:[]},{name:"培训机构名称",field:"trainingOrganName",formType:"text",setting:[]},{name:"培训开始时间",field:"startTime",formType:"date",setting:[]},{name:"培训结束时间",field:"endTime",formType:"date",setting:[]},{name:"培训时长",field:"trainingDuration",formType:"number",setting:[]},{name:"培训成绩",field:"trainingResults",formType:"text",setting:[]},{name:"培训证书名称",field:"trainingCertificateName",formType:"text",setting:[]},{name:"培训备注",field:"remarks",formType:"textarea",setting:[]}],x={trainingCourse:[{required:!0,message:"请输入",trigger:["blur","change"]}]},C={fields:T,rules:x},S={1:"男",2:"女"},_={1:"阳历",2:"农历"},N=[{label:"男",value:1},{label:"女",value:2}],k={1:"身份证",2:"港澳通行证",3:"台湾通行证",4:"护照",5:"其他"},L=[{label:"身份证",value:1},{label:"港澳通行证",value:2},{label:"台湾通行证",value:3},{label:"护照",value:4},{label:"其他",value:5}],A={1:"正式",2:"非正式"},j=[{label:"正式",value:1},{label:"非正式",value:2}],P={0:"无试用期",1:"1个月",2:"2个月",3:"3个月",4:"4个月",5:"5个月",6:"6个月"},I=[{label:"无试用期",value:0},{label:"1个月",value:1},{label:"2个月",value:2},{label:"3个月",value:3},{label:"4个月",value:4},{label:"5个月",value:5},{label:"6个月",value:6}],O=[{label:"实习",value:3},{label:"兼职",value:4},{label:"劳务",value:5},{label:"顾问",value:6},{label:"返聘",value:7},{label:"外包",value:8}],z={1:"正式",2:"试用",3:"实习",4:"兼职",5:"劳务",6:"顾问",7:"返聘",8:"外包",11:"在职",12:"全职",13:"待入职",14:"待离职",15:"已离职"},D={1:"正式",2:"试用",3:"实习",4:"兼职",5:"劳务",6:"顾问",7:"返聘",8:"外包"},q={sexValue:S,birthdayTypeValue:_,idTypeValue:k,employmentFormsValue:A,probationValue:P,statusValue:z,validStatusValue:D,getValueList:s,sexSetting:N,idTypeSetting:L,employmentFormsSetting:j,probationSetting:I,statusSetting:O},E=[{name:"部门",field:"newDept",formType:"structure",props:{dataType:"hrm"},request:r["e"],setting:[]},{name:"岗位",field:"newPost",formType:"text",setting:[]},{name:"直属上级",field:"newParentId",formType:"user",props:{label:"employeeName",value:"employeeId",isList:!0},request:n["F"],setting:[]},{name:"计划转正日期",field:"becomeTime",formType:"text",disabled:!0,setting:[]},{name:"实际转正日期",field:"effectTime",formType:"date",setting:[]},{name:"备注",field:"remarks",formType:"textarea",setting:[]}],H={effectTime:[{required:!0,message:"请选择",trigger:["blur","change"]}]},F={fields:E,rules:H};function V(e,t){var a=[{label:"调岗",value:5},{label:"晋升",value:6},{label:"降级",value:7}];3!=t&&4!=t||a.push({label:"转为全职员工",value:8});var i=[];i=7==e?[{label:"违规违纪",value:4},{label:"绩效不达标",value:5},{label:"个人身体原因",value:6},{label:"不适应当前岗位",value:7}]:[{label:"组织架构调整",value:1},{label:"个人申请",value:2},{label:"工作安排",value:3}];var l=[{name:"异动类型",field:"changeType",formType:"select",setting:a},{name:"异动原因",field:"changeReason",formType:"select",setting:i}];return 8==e&&(l=l.concat([{name:"入职日期",field:"entryTime",formType:"date",disabled:!0,setting:[]},{name:"试用期",field:"probation",formType:"select",setting:[{label:"无试用期",value:0},{label:"1个月",value:1},{label:"2个月",value:2},{label:"3个月",value:3},{label:"4个月",value:4},{label:"5个月",value:5},{label:"6个月",value:6}]}])),l.concat([{name:"原部门",field:"oldDept",formType:"structure",disabled:!0,props:{dataType:"hrm"},request:r["e"],setting:[]},{name:"变更为",field:"newDept",formType:"structure",props:{dataType:"hrm"},request:r["e"],setting:[]},{name:"原岗位",field:"oldPost",formType:"text",disabled:!0,setting:[]},{name:"变更为",field:"newPost",formType:"text",setting:[]},{name:"原岗位职级",field:"oldPostLevel",disabled:!0,formType:"text",setting:[]},{name:"变更为",field:"newPostLevel",formType:"text",setting:[]},{name:"原工作地点",field:"oldWorkAddress",formType:"text",disabled:!0,setting:[]},{name:"变更为",field:"newWorkAddress",formType:"text",setting:[]},{name:"生效日期",field:"effectTime",formType:"date",setting:[]},{name:"备注",field:"remarks",formType:"textarea",setting:[]}])}var R={effectTime:[{required:!0,message:"请选择",trigger:["blur","change"]}]},$={fieldsFunc:V,rules:R}},9228:function(e,t,a){},"94e7":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("flexbox",{staticClass:"detail-head-base",attrs:{align:"stretch"}},e._l(e.list,(function(t,i){return a("div",{key:i,staticClass:"base-item"},[a("div",{staticClass:"base-title"},[e._v(e._s(t.title)),t.helpObj?a("i",{staticClass:"wk wk-icon-fill-help wk-help-tips",attrs:{"data-type":t.helpObj.type,"data-id":t.helpObj.id}}):e._e()]),e._v(" "),a("div",{staticClass:"base-value text-one-line"},[t.showPhone?a("span",{staticClass:"phone-item"},[a("i",{staticClass:"wk wk-circle-iphone"}),e._v(" "+e._s(t.value)+"\n      ")]):a("el-tooltip",{staticClass:"text-one-line",attrs:{content:t.value,effect:"dark",placement:"top"}},[a("span",[e._v(e._s(t.value))])])],1)])})))},l=[],n={name:"DetailHeadBase",components:{},props:{list:Array},data:function(){return{}},methods:{}},r=n,s=(a("2a46"),a("2877")),o=Object(s["a"])(r,i,l,!1,null,"66b0d858",null);t["a"]=o.exports},a5c5:function(e,t,a){},b0e1:function(e,t,a){},fce4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"employee-index",attrs:{id:"employee-main-container"}},[a("xr-header",{attrs:{"ft-top":"0",placeholder:"请输入员工姓名",label:"绩效档案","show-search":""},on:{search:e.searchClick}}),e._v(" "),a("div",{directives:[{name:"empty",rawName:"v-empty",value:!e.queryAppraisalAuth,expression:"!queryAppraisalAuth"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"crm-container",attrs:{"xs-empty-icon":"nopermission","xs-empty-text":"暂无权限"}},[e.selectionList.length>0?a("xr-table-header",{attrs:{handles:e.tabelHandles(),selects:e.selectionList},on:{command:e.handleCommand}}):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"n-table--border el-table-header--white",class:e.WKConfig.tableStyle.class,staticStyle:{width:"100%"},attrs:{id:"crm-table","row-height":40,data:e.list,height:e.tableHeight,stripe:e.WKConfig.tableStyle.stripe,"use-virtual":"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange,"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),e._v(" "),e._l(e.fieldList,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.fieldName,label:t.name,"min-width":t.width,"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["employeeName"===t.column.property?[a("span",{staticClass:"can-visit--underline"},[e._v(e._s(e.fieldFormatter(t.row,t.column)))]),1==t.row.isDel?a("span",{staticStyle:{color:"#6b778c"}},[e._v("（已删除）")]):e._e()]:"status"===t.column.property?[e._v("\n            "+e._s(e.userStatus[t.row[t.column.property]])+"\n          ")]:[e._v("\n            "+e._s(e.fieldFormatter(t.row,t.column))+"\n          ")]]}}])})}))],2),e._v(" "),a("div",{staticClass:"p-contianer"},[a("el-pagination",{staticClass:"p-bar",attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),e.detailShow?a("employee-performance-detail",{attrs:{id:e.rowID,"query-appraisal-information":e.queryAppraisalInformation},on:{close:function(t){e.detailShow=!1}}}):e._e()],1)},l=[],n=a("5530"),r=(a("b64b"),a("ac1f"),a("841c"),a("14d9"),a("d81d"),a("7195")),s=a("5057"),o=a("8e93"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("slide-view",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"d-view",attrs:{"listener-ids":e.listenerIDs,"no-listener-ids":e.noListenerIDs,"no-listener-class":e.noListenerClass,"body-style":{padding:0,height:"100%",background:"white"}},on:{afterEnter:e.viewAfterEnter,close:e.hideView}},[a("flexbox",{staticClass:"side-detail-main",staticStyle:{padding:"0 20px 20px"},attrs:{direction:"column",align:"stretch"}},[a("div",{staticClass:"d-header"},[a("div",{staticClass:"header-user"},[a("div",{staticClass:"header-user-ft"},[a("xr-avatar",{attrs:{name:e.userName,size:40}}),e._v(" "),a("div",{staticClass:"user-info"},[a("span",{staticClass:"user-info-label"},[e._v("姓名")]),e._v(" "),a("span",{staticClass:"user-info-name"},[e._v(e._s(e.userName))])])],1)])]),e._v(" "),a("div",{staticClass:"d-container-body"},[a("detail-head-base",{attrs:{list:e.headDetails}}),e._v(" "),a("div",{staticStyle:{"padding-top":"15px"}},[a("flexbox",{staticClass:"filter-wrap"},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入考核方案"},nativeOn:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchInput(t)}},model:{value:e.search,callback:function(t){e.search="string"===typeof t?t.trim():t},expression:"search"}},[a("el-button",{attrs:{slot:"suffix",type:"icon",icon:"wk wk-sousuo"},on:{click:e.searchInput},slot:"suffix"})],1)],1),e._v(" "),e.selectionList.length>0?a("xr-table-header",{attrs:{handles:e.tabelHandles(),selects:e.selectionList},on:{command:e.handleCommand}}):e._e(),e._v(" "),a("el-table",{staticClass:"n-table--border el-table-header--white",class:e.WKConfig.tableStyle.class,staticStyle:{width:"100%","margin-top":"15px"},attrs:{id:"crm-table",data:e.list,"cell-class-name":e.cellClassName,stripe:e.WKConfig.tableStyle.stripe,height:e.tableHeight,"highlight-current-row":""},on:{"selection-change":e.handleSelectionChange,"row-click":e.handleRowClick}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55"}}),e._v(" "),e._l(e.fieldList,(function(t,i){return a("el-table-column",{key:i,attrs:{prop:t.fieldName,label:t.name,formatter:e.fieldFormatter,"show-overflow-tooltip":""}})})),e._v(" "),e.delAuth?a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.delExaminationRecord(i)}}},[e._v("删除")])]}}])}):e._e()],2),e._v(" "),a("div",{staticClass:"p-contianer"},[a("el-pagination",{staticClass:"p-bar",attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)]),e._v(" "),e.detailShow?a("employee-details",{attrs:{id:e.rowId,"active-tab":5,"appraisal-plan-name":e.rowAppraisalPlanName,"sub-tab-type":1},on:{"hide-view":function(t){e.detailShow=!1}}}):e._e()],1)},u=[],d=(a("a9e3"),a("d3b7"),a("7078")),m=a("130f"),p=a("94e7"),f=a("7a17"),h=a("6bfe"),g=a("2f62"),b={name:"EmployeePerformanceDetail",components:{SlideView:m["a"],DetailHeadBase:p["a"],EmployeeDetails:f["a"],XrTableHeader:o["a"]},props:{id:[String,Number],listenerIDs:{type:Array,default:function(){return["crm-main-container"]}},noListenerIDs:{type:Array,default:function(){return[]}},noListenerClass:{type:Array,default:function(){return["el-table__body"]}},queryAppraisalInformation:Boolean},data:function(){return{loading:!1,carouselList:[],search:"",list:[],fieldList:[{fieldName:"appraisalPlanName",name:"考核方案名称"},{fieldName:"appraisalCycleType",name:"考核周期类型"},{fieldName:"appraisalCycle",name:"考核周期"},{fieldName:"stageStatus",name:"考核状态"},{fieldName:"score",name:"评分"},{fieldName:"level",name:"考核结果"}],tableHeight:"600px",headDetails:[],currentPage:1,pageSize:15,pageSizes:[15,30,60,100],total:0,rowId:"",rowAppraisalPlanName:"",detailShow:!1,userName:"",appraisalCycleType:{1:"月度",2:"季度",3:"上半年",4:"下半年",5:"全年"},inspectionStatus:{0:"未开始",1:"指标填写",2:"指标确定",3:"自评",4:"他评",5:"结果审核",6:"结果确认",7:"申诉确认",8:"归档",9:"执行中",10:"结束"},selectionList:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(g["b"])(["hrm"])),{},{delAuth:function(){return this.hrm.appraisalArchives&&this.hrm.appraisalArchives.delAppraisalFileRecordList}}),watch:{id:function(){this.getDetialHeader()}},mounted:function(){},beforeDestroy:function(){},methods:{viewAfterEnter:function(){this.getDetialHeader()},getDetialHeader:function(){var e=this;this.loading=!0,Object(d["D"])(this.id).then((function(t){var a=t.data||{};e.userName=a.employeeName;var i=[{title:"部门",field:"deptName",value:""},{title:"岗位",field:"post",value:""},{title:"聘用形式",field:"employmentForms",value:""}];i.forEach((function(e){"employmentForms"==e.field?e.value=1==a[e.field]?"正式":"非正式":e.value=a[e.field]})),e.headDetails=i,e.getPerformanceList()}))},getPerformanceList:function(){var e=this,t={employeeId:this.id,page:this.currentPage,limit:this.pageSize};this.search&&(t.appraisalPlanName=this.search),Object(r["y"])(t).then((function(t){var a=t.data.list||[];e.list=a,e.total=t.data.totalRow,e.loading=!1})).catch((function(){e.loading=!1,e.hideView()}))},handleCommand:function(e){var t=this;if("delete"===e){var a={ids:this.selectionList.map((function(e){return e.appraisalEmployeeId})),employeeId:this.selectionList[0].employeeId};this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["a"])(a).then((function(e){t.$message({type:"success",message:"删除成功"}),t.getPerformanceList()})).catch((function(){}))})).catch((function(){}))}},tabelHandles:function(){var e=[];return this.delAuth&&e.push({label:"删除",command:"delete",icon:"wk wk-delete"}),e},handleSizeChange:function(e){this.pageSize=e,this.getPerformanceList()},handleSelectionChange:function(e){this.selectionList=e,this.tableHeight=document.documentElement.clientHeight-(this.selectionList.length>0?395:345)},handleCurrentChange:function(e){this.currentPage=e,this.getPerformanceList()},searchInput:function(){this.getPerformanceList()},fieldFormatter:function(e,t){if("appraisalCycleType"==t.property)return this.appraisalCycleType[e[t.property]]?this.appraisalCycleType[e[t.property]]:"--";if("stageStatus"==t.property)return this.inspectionStatus[e[t.property]]?this.inspectionStatus[e[t.property]]:"--";var a=e[t.property];return Object(h["c"])(a)?"--":a},cellClassName:function(e){e.row;var t=e.column;e.rowIndex,e.columnIndex;return"appraisalPlanName"==t.property?"can-visit--underline":""},handleRowClick:function(e,t,a){"appraisalPlanName"==t.property&&(this.queryAppraisalInformation?(this.rowId=e.appraisalEmployeeId,this.rowAppraisalPlanName=e.appraisalPlanName,this.detailShow=!0):this.$message.error("暂无权限"))},delExaminationRecord:function(e){var t=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={ids:[e.appraisalEmployeeId],employeeId:e.employeeId};Object(r["a"])(a).then((function(e){t.getPerformanceList(),t.$message({type:"success",message:"删除成功!"})}))})).catch((function(){}))},hideView:function(){this.$emit("close")}}},v=b,y=(a("7822"),a("2877")),w=Object(y["a"])(v,c,u,!1,null,"47b2f7a6",null),T=w.exports,x=a("8b13"),C={name:"EmployeeIndex",components:{XrHeader:s["a"],EmployeePerformanceDetail:T,XrTableHeader:o["a"]},data:function(){return{loading:!1,isCreate:!1,tableHeight:document.documentElement.clientHeight-260,list:[],fieldList:[{fieldName:"employeeName",name:"员工姓名",width:140},{fieldName:"jobNumber",name:"工号",width:140},{fieldName:"deptName",name:"部门",width:80},{fieldName:"post",name:"岗位",width:80},{fieldName:"mobile",name:"手机号",width:80},{fieldName:"status",name:"员工状态",width:80},{fieldName:"appraisalPlanName",name:"最近考核计划",width:120},{fieldName:"recentlyScore",name:"最近绩效评分",width:80},{fieldName:"recentlyLevel",name:"最近绩效等级",width:80},{fieldName:"appraisalCount",name:"考核次数",width:80}],currentPage:1,pageSize:15,pageSizes:[15,30,60,100],total:0,search:"",popoverFilterWidth:150,rowID:"",detailShow:!1,filterObj:{},userStatus:{1:"正式",2:"试用",3:"实习",4:"兼职",5:"劳务",6:"顾问",7:"返聘",8:"外包"},selectionList:[]}},computed:Object(n["a"])(Object(n["a"])({},Object(g["b"])(["collapse","hrm"])),{},{queryAppraisalAuth:function(){return this.hrm.appraisalArchives&&this.hrm.appraisalArchives.queryAppraisalFileList},queryEmployeeAppraisalAuth:function(){return this.hrm.appraisalArchives&&this.hrm.appraisalArchives.queryEmployeeAppraisalList},queryAppraisalInformation:function(){return this.hrm.appraisalArchives&&this.hrm.appraisalArchives.queryAppraisalInformation},hasFilterContent:function(){if(this.filterObj){for(var e=!1,t=Object.keys(this.filterObj),a=0;a<t.length;a++){var i=t[a];""!=this.filterObj[i]&&this.filterObj[i]!=[]&&null!=this.filterObj[i]&&void 0!=this.filterObj[i]&&(e=!0)}return e}return!1}}),watch:{collapse:{handler:function(e){this.popoverFilterWidth=document.documentElement.clientWidth-(e?89:225)},immediate:!0}},created:function(){var e=this;window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-260},this.refreshList()},methods:{resetFilter:function(){this.filterObj={},this.refreshList()},searchClick:function(e){this.search=e,this.refreshList()},refreshList:function(){this.handleCurrentChange(1)},tabelHandles:function(){var e=[];return e.push({label:"删除",command:"delete",icon:"wk wk-delete"}),e},handleCommand:function(e){var t=this;if("delete"===e){var a={ids:this.selectionList.map((function(e){return e.achievementFileId}))};this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["b"])(a).then((function(e){t.$message({type:"success",message:"删除成功"}),t.refreshList()})).catch((function(){}))})).catch((function(){}))}},handleSelectionChange:function(e){this.selectionList=e,this.tableHeight=document.documentElement.clientHeight-(this.selectionList.length>0?395:345)},handleSizeChange:function(e){this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.currentPage=e,this.getList()},getList:function(){var e=this;this.loading=!0;var t={page:this.currentPage,limit:this.pageSize};this.search&&(t.employeeName=this.search),Object(r["x"])(t).then((function(t){e.list=t.data.list,e.total=t.data.totalRow,e.loading=!1})).catch((function(){e.loading=!1}))},fieldFormatter:function(e,t){if("employeeStatus"==t.property)return x["d"].statusValue[e.employeeStatus]||"--";var a=e[t.property];return Object(h["c"])(a)?"--":a},handleRowClick:function(e,t,a){"employeeName"==t.property&&(this.queryEmployeeAppraisalAuth?(this.rowID=e.employeeId,this.detailShow=!0):this.$message.error("暂无权限"))}}},S=C,_=(a("1f74"),Object(y["a"])(S,i,l,!1,null,"6f1eec65",null));t["default"]=_.exports}}]);