(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54a52d3c"],{"278b":function(e,t,n){"use strict";n("a515")},3817:function(e,t,n){"use strict";n("d3b7"),n("159b"),n("14d9"),n("b0c0"),n("4de4"),n("d81d"),n("ddb0"),n("caad"),n("2532");var i=n("612a"),a=n("bcbc"),o=n("ea20"),r=n("8ed6"),s=n("c9d9"),l=n("e297"),c=n.n(l);t["a"]={data:function(){return{wkRoleOption:[],memberControlList:[]}},provide:function(){return{memberControlFun:this.memberControlFun}},methods:{getListInfo:function(e,t,n){var i=this,a=Object(r["a"])({additionalInfo:null,additionalInfoFun:null,cycleFun:null},n||{});e.forEach((function(n,o){0===n.examineType?t.push(i.getConditonWrapInfo(n,o,a,e,t)):t.push(i.getNodeInfo(n,o,a,e))}))},getNodeInfo:function(e,t,n,i){var a=this,o={examineType:e.examineType,name:e.name,conditionList:[],deptList:e.deptList,roleIdList:e.roleIdList,type:e.type,userList:e.userList||[],chooseType:e.chooseType,rangeType:e.rangeType,parentLevel:1,tempParentLevel:1,overType:1,isError:!1};if(1===e.examineType)o.memberUserList=e.userList;else if(5===e.examineType)1===e.type?0===e.parentLevel?(o.overType=0,o.parentLevel=1):(o.overType=1,o.parentLevel=e.parentLevel):2===e.type&&(o.overType=0,o.parentLevel=1,o.tempParentLevel=e.parentLevel);else if(7===e.examineType)o={examineType:e.examineType,name:e.name,userList:e.userList||[],isSelf:e.isSelf,isAdd:e.isAdd,roleIdList:e.roleIdList||[],roleList:e.roleList||[],parentLevelList:e.parentLevelList||[]};else if(8===e.examineType){var r=e.parentLevel,s=this.memberControlList.filter((function(t){return t.fieldName==e.fieldName})).length;s?(o.fieldName=e.fieldName,o.fieldId=e.fieldId,o.parentLevelCheck=Boolean(r),o.parentLevel=e.parentLevel):(o.fieldName="",o.fieldId="",o.type=1)}else o.parentLevel=e.parentLevel;if(o.roleList=[],e.roleIdList&&e.roleIdList.length>0&&this.getRoleList().then((function(t){a.getRoleItems(e.roleIdList,t,o.roleList)})),e.fieldAuthList&&(o.fieldAuthList=e.fieldAuthList),n.additionalInfo)for(var l in n.additionalInfo)o[l]=n.additionalInfo[l];return n.additionalInfoFun&&n.additionalInfoFun(o,e,t,i,t),o},getConditionNodeInfo:function(e,t,n,i,a){var o=this,r={conditionName:e.conditionName,sort:t+1,conditionDataList:[],examineDataList:[],isError:!1};if(e.conditionDataList.forEach((function(e){r.conditionDataList.push(o.getSectionConditionInfo(e))})),n.additionalInfo)for(var s in n.additionalInfo)r[s]=n.additionalInfo[s];return n.additionalInfoFun&&n.additionalInfoFun(r,e,t,i,a),r},getSectionConditionInfo:function(e){var t=this;return e.map((function(e){var n={name:e.name,fieldName:e.fieldName,fieldId:e.fieldId,type:e.type,conditionType:e.conditionType};if(3===e.type||9===e.type)n.values=e.values,t.validateSetting(n);else if(6===e.conditionType)e.values&&4===e.values.length?(n.leftValue=parseInt(e.values[0]),n.leftCondition=parseInt(e.values[1]),n.rightCondition=parseInt(e.values[2]),n.rightValue=parseInt(e.values[3])):(n.leftValue=0,n.leftCondition=1,n.rightCondition=1,n.rightValue=0),n.values=0;else if(8===e.conditionType){var i=e.values;n.values={deptList:i.deptList.map((function(e){return e.deptId})),roleList:i.roleList,userList:i.userList.map((function(e){return e.userId}))},n.deptList=i.deptList,n.userList=i.userList,n.roleList=[],i.roleList.length>0&&t.getRoleList().then((function(e){t.getRoleItems(i.roleList,e,n.roleList)}))}else n.leftValue=0,n.leftCondition=1,n.rightCondition=1,n.rightValue=0,e.values&&e.values.length>0?n.values=e.values[0]:n.values=0;return n}))},validateSetting:function(e){},getRoleList:function(){var e=this;return new Promise((function(t,n){e.wkRoleOption.length>0?t(e.wkRoleOption):Object(i["a"])().then((function(n){e.wkRoleOption=n.data||[],t(e.wkRoleOption)})).catch((function(){}))}))},getRoleItems:function(e,t,n){for(var i=0;i<t.length;i++){var a=t[i];if(e.includes(a.roleId)&&(n.push(a),e.length===n.length))break;a.list&&this.getRoleItems(e,a.list,n)}},getRoleObj:function(e,t,n){for(var i=0;i<t.length;i++){var a=t[i];if(a.roleId===e){n.roleObj=a;break}a.list&&this.getRoleObj(e,a.list,n)}},getConditonWrapInfo:function(e,t,n,i,a){var o=this,r={examineType:e.examineType,name:e.name,conditionList:[]};return e.conditionList.forEach((function(s,l){var c=o.getConditionNodeInfo(s,l,n,i,t);r.conditionList.push(c),n.cycleFun&&n.cycleFun("conditionList",{conditionWrapInfo:r,index:l,conditionWrap:e,parentList:i,conditionIndex:t,newList:a}),o.getListInfo(s.examineDataList,c.examineDataList,n)})),r},getUserFieldList:function(e,t,n){var i=this;if(c.a.get(s["b"])){var r={},l=null;0==e?(r.categoryId=t,l=a["g"]):[1,2,3].includes(e)?(r.label={1:6,2:7,3:18}[e],l=o["e"]):[5,6,7,8,9,10,11,12].includes(e)?(r.label={5:3,6:4,7:5,8:6,9:9,10:10,11:11,12:12}[e],l=a["f"]):null!==n&&void 0!==n&&n.settingId&&(l=o["f"],r.settingId=null===n||void 0===n?void 0:n.settingId),l&&l(r).then((function(e){i.memberControlList=e.data||[]}))}},memberControlFun:function(){return this.memberControlList}}}},"3ea7":function(e,t,n){"use strict";n("ba22")},"612a":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d3b7"),n("159b"),n("b64b");var i=n("b775");function a(e){return Object(i["a"])({url:"adminRole/getAllRoleList",method:"post",data:e})}},"94d4":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._g(e._b({ref:"select",staticClass:"role-employee-select",on:{"visible-change":e.selectVisibleChange,change:e.selectChange},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}},"el-select",e.$attrs,!1),e.$listeners),[n("div",{staticClass:"role-employee-select__body"},[n("el-tabs",{ref:"roleTabs",class:{"el-tabs__header--hidden":e.config.onlyShowRole},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{ref:"roleTabPane",attrs:{label:"自选角色",name:"role"}},e._l(e.roleOption,(function(t){return n("div",{key:t.parentId,attrs:{label:t.name}},[n("div",{staticClass:"role-employee-select__title"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.list,(function(e){return n("el-option",{key:e.roleId,staticStyle:{padding:"0 10px"},attrs:{label:e.roleName,value:e.roleId}})}))],2)}))),e._v(" "),n("el-tab-pane",{attrs:{label:"按员工复制角色",name:"employee"}},[n("el-input",{staticClass:"search-input",attrs:{placeholder:"搜索成员",size:"small","prefix-icon":"el-icon-search"},on:{input:e.userSearch},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),e._v(" "),e._l(e.userOption,(function(t){return n("el-option",{directives:[{name:"show",rawName:"v-show",value:!t.isHide,expression:"!item.isHide"}],key:t.userId,staticStyle:{padding:"0 10px"},attrs:{label:t.realname,value:t.userId+"@"+t.roleId}},[n("flexbox",{staticClass:"cell"},[n("xr-avatar",{staticClass:"cell__img",attrs:{name:t.realname,size:24,src:t.img}}),e._v(" "),n("div",{staticClass:"cell__body"},[e._v(e._s(t.realname))]),e._v(" "),n("el-tooltip",{attrs:{content:t.roleName,effect:"dark",placement:"top"}},[n("div",{staticClass:"cell__footer text-one-line"},[e._v(e._s(t.roleName))])])],1)],1)}))],2)],1)],1)])},a=[],o=n("5530"),r=(n("a9e3"),n("d3b7"),n("159b"),n("ac1f"),n("466d"),n("612a")),s=n("2934"),l=n("8122"),c=n("d22a"),u=n("8ed6"),d={onlyShowRole:!1,roleRequest:null},p={name:"RoleEmployeeSelect",components:{},props:{props:{type:Object,default:function(){return{}}},value:[Array,Number,String]},data:function(){return{selectValue:[],activeName:"",roleOption:[],userOption:[],searchInput:""}},computed:{config:function(){return Object(u["a"])(Object(o["a"])({},d),this.props||{})},select:function(){return this.$refs.select}},watch:{value:{handler:function(){Object(l["valueEquals"])(this.value,this.selectValue)||(this.selectValue=this.value)},immediate:!0}},created:function(){this.getRoleList(),this.getUserList()},mounted:function(){},beforeDestroy:function(){},methods:{selectVisibleChange:function(e){""!==this.activeName&&"0"!==this.activeName||(this.activeName="role")},getRoleList:function(){var e=this,t=this.config.roleRequest||r["a"];t().then((function(t){e.roleOption=t.data||[]})).catch((function(){}))},getUserList:function(){var e=this;Object(s["k"])({pageType:0}).then((function(t){e.userOption=t.data.list||[]})).catch((function(){}))},selectChange:function(){this.$emit("input",this.selectValue)},userSearch:function(){var e=this;this.userOption.forEach((function(t){t.isHide=!!e.searchInput&&!c["a"].match(t.realname,e.searchInput)}))}}},f=p,m=(n("278b"),n("3ea7"),n("2877")),h=Object(m["a"])(f,i,a,!1,null,"60fbfdca",null);t["a"]=h.exports},a515:function(e,t,n){e.exports={colorPrimary:"#0052cc",colorBlack:"#172b4d",colorSuccess:"#36b37e",colorWarning:"#ffab00",colorDanger:"#ff5630",colorN40:"#dfe1e6",axisLineColor:"#dfe1e6",axisLabelFontWeight:"500"}},ba22:function(e,t,n){},bcbc:function(e,t,n){"use strict";n.d(t,"j",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"h",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m}));var i=n("b775");function a(e){return Object(i["a"])({url:"/examineSuperExamines/applyList",method:"post",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function o(e){return Object(i["a"])({url:"/examineSuperExamine/examine/record/list",method:"post",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function r(e){return Object(i["a"])({url:"/examineRecord/forwardOthers",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(i["a"])({url:"/examineRecord/solicitOthers",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function l(e){return Object(i["a"])({url:"/examineSuperExamines/useExamineEmailSend",method:"post",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function c(e){return Object(i["a"])({url:"/oaSuperExamine/actionExamine",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i["a"])({url:"/examineSuperExamines/set/node/optional",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i["a"])({url:"/oaExamineField/queryUserField/".concat(e.categoryId),method:"post",data:e})}function p(e){return Object(i["a"])({url:"/jxcField/queryUserField/".concat(e.label),method:"post",data:e})}function f(e){return Object(i["a"])({url:"/jxcField/queryFieldList/".concat(e),method:"post"})}function m(e){return Object(i["a"])({url:"/crmField/queryFieldList/".concat(e),method:"post"})}},ffce:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"n",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"o",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"m",(function(){return h})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return L})),n.d(t,"h",(function(){return y}));var i=n("b775");function a(e){return Object(i["a"])({url:"examineRecord/auditExamine",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function o(e){return Object(i["a"])({url:"examineRecord/adminAuditExamine",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function r(e){return Object(i["a"])({url:"/examineSuperExamine/examine/end",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function s(e){return Object(i["a"])({url:"examineRecord/queryExamineRecordLog",method:"post",data:e})}function l(e){return Object(i["a"])({url:"examines/queryField",method:"post",data:e})}function c(e){return Object(i["a"])({url:"examines/addExamine",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(i["a"])({url:"examines/queryList/".concat(e.label),method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function d(e){return Object(i["a"])({url:"examines/updateStatus",method:"post",data:e})}function p(e){return Object(i["a"])({url:"examines/queryExamineFlow",method:"post",data:e})}function f(e){return Object(i["a"])({url:"examines/previewFiledName",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function m(e){return Object(i["a"])({url:"examines/queryExamineAdvancedConfig",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function h(e){return Object(i["a"])({url:"/examines/queryExamineUserField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function b(e){return Object(i["a"])({url:"examineRecord/queryRecordLog",method:"post",data:e})}function v(e){return Object(i["a"])({url:"examineRecord/adminQueryExamineFlow",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function L(e){return Object(i["a"])({url:"examineRecord/queryAuthField",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}function y(e){return Object(i["a"])({url:"examineRecord/queryExamineUpdateLog",method:"post",data:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})}}}]);